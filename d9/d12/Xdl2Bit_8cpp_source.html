<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>torc-master: Xdl2Bit.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">torc-master
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d9/d12/Xdl2Bit_8cpp_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Xdl2Bit.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d9/d12/Xdl2Bit_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Torc - Copyright 2011-2013 University of Southern California.  All Rights Reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// $HeadURL: https://svn.east.isi.edu/torc/trunk/src/torc/bitstream/assembler/lut/parser.yy $</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// $Id: parser.yy 1303 2013-02-25 23:18:16Z nsteiner $</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This program is free software: you can redistribute it and/or modify it under the terms of the </span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// GNU General Public License as published by the Free Software Foundation, either version 3 of the </span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// </span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; </span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See </span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// the GNU General Public License for more details.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// </span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// You should have received a copy of the GNU General Public License along with this program.  If </span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/// \file Xdl2Bit.cpp</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/// \brief Convert an XDL to bitstream by merging the compressed bitstreams from library.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;Xdl2Bit.h&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d87/Virtex5PrimitiveStructure_8hpp.html">torc/packer/Virtex5PrimitiveStructure.hpp</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d5d/DDB_8hpp.html">torc/architecture/DDB.hpp</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/db7/DirectoryTree_8hpp.html">torc/common/DirectoryTree.hpp</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d71/Physical_8hpp.html">torc/Physical.hpp</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d77/Bitstream_8hpp.html">torc/Bitstream.hpp</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/db7/SharedFunctions_8hpp.html">SharedFunctions.hpp</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">//#include &quot;LibraryDatabaseStitch.hpp&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">using namespace </span>torc::architecture;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">using namespace </span>torc::packer;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">using namespace </span>torc::physical;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">using namespace </span>torc::bitstream;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// Global variables used only in this file</span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#a64d94125800c2dec062d056c9e556a1f">   36</a></span>&#160;<span class="keyword">static</span> vector&lt;vector&lt;uint32_t&gt; &gt; <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a64d94125800c2dec062d056c9e556a1f">gStackOfFrames</a>;</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#ae545cfee0d72d85fe5e1b2125cd1040e">   37</a></span>&#160;<span class="keyword">static</span> uint32_t <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ae545cfee0d72d85fe5e1b2125cd1040e">gCurrentReferenceFrameIndex</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#ab5c8b6632acf2b4741268412b453dafa">   38</a></span>&#160;<span class="keyword">static</span> uint32_t <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ab5c8b6632acf2b4741268412b453dafa">gCUrrentReferenceWordIndex</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">static</span> std::vector&lt;uint32_t&gt; <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a71c2ef5b75e7061aa1f3ed2223e7afc9">gLUTWordsForOne</a>(4, 0xFFFFFFFF);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#a85f9e00b8a29802c081b79398eeb7b50">   41</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a7e217efb81b655e3dc4616efc287878a">ConfigBitMap</a> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a85f9e00b8a29802c081b79398eeb7b50">gcurrentConfigBitMap</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#a2125caacb82549eb574f03cd135e944b">   42</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a2125caacb82549eb574f03cd135e944b">gLUTEquationLeft</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">// Function declarations</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">// Parent function to convert xdl to bitstream. This function call the child functions for instances and nets</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#af5394c153db17bbec6ee4ca45ec276ea">convertXdlToBitstream</a>(<a class="code" href="../../de/d76/namespacetorc_1_1physical.html#a0d673321363a5e426cf2d160319bb4c2">DesignSharedPtr</a> inDesignPtr, <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/db7/classtorc_1_1architecture_1_1Sites.html">Sites</a> &amp;sites, <span class="keyword">const</span> <a class="code" href="../../d8/dc4/classtorc_1_1architecture_1_1Tiles.html">Tiles</a> &amp;tiles, <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a84f574e1f946d923d97edc833ea09664">TiletypeElementMap</a> &amp;library);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">// This function takes in a design pointer, goes over all the instances, finds compressed</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">// bitstream in library for each config and merges it with outBitstream.</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ad6304506c423b4c5c3285017109d4701">assembleInstances</a>(<a class="code" href="../../de/d76/namespacetorc_1_1physical.html#a0d673321363a5e426cf2d160319bb4c2">DesignSharedPtr</a> inDesignPtr, <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream,</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/db7/classtorc_1_1architecture_1_1Sites.html">Sites</a> &amp;sites, <span class="keyword">const</span> <a class="code" href="../../d8/dc4/classtorc_1_1architecture_1_1Tiles.html">Tiles</a> &amp;tiles, <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a84f574e1f946d923d97edc833ea09664">TiletypeElementMap</a> &amp;library);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a68dec44f26388501662acaccedcc52b7">assembleRambInstance</a>(<a class="code" href="../../de/d76/namespacetorc_1_1physical.html#a10b411a1f414a79691ee3abbd4aa8a41">InstanceSharedPtr</a> instance, <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> &amp;frameBlocks, uint32_t wordOffset, <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a84f574e1f946d923d97edc833ea09664">TiletypeElementMap</a> &amp;library);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">// This function takes in a design pointer, goes over all the nets, finds compressed</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">// bitstream in library for each pip and merges it with outBitstream.</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a73b44d26286730d2c741a0c4cbdeb303">assembleNets</a>(<a class="code" href="../../de/d76/namespacetorc_1_1physical.html#a0d673321363a5e426cf2d160319bb4c2">DesignSharedPtr</a> inDesignPtr, <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream,</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/db7/classtorc_1_1architecture_1_1Sites.html">Sites</a> &amp;sites, <span class="keyword">const</span> <a class="code" href="../../d8/dc4/classtorc_1_1architecture_1_1Tiles.html">Tiles</a> &amp;tiles, <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a84f574e1f946d923d97edc833ea09664">TiletypeElementMap</a> &amp;library);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a6e0095201e3a61112e9750279c99859e">GetFrameBlocksFromSiteName</a>(<a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;inBitstream, <span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;siteName,</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/db7/classtorc_1_1architecture_1_1Sites.html">Sites</a> &amp;sites, <span class="keyword">const</span> <a class="code" href="../../d8/dc4/classtorc_1_1architecture_1_1Tiles.html">Tiles</a> &amp; tiles, uint32_t &amp;outWordOffset);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#aee41ce2e2c5a5987ac9d395f38335214">GetFrameBlocksFromTileIndex</a>(<a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;inBitstream, <a class="code" href="../../de/da8/structtorc_1_1architecture_1_1xilinx_1_1TileIndex.html">TileIndex</a> tileIndex,</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d8/dc4/classtorc_1_1architecture_1_1Tiles.html">Tiles</a> &amp; tiles, uint32_t &amp;outWordOffset);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ad0ffc71dd4cddb16e5dd668937663cff">checkValidityAndMergeBitstream</a>(<a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> elementName, <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> configVal,</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a37784f35dee02de59c8d09057e368044">ElementConfigMap</a> &amp;elementMap, <a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> &amp;frameBlocks, uint32_t wordOffset,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">// Go over all the bitaddresses, disect it into frame address, word address and bit address.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">// Merge with outBitstream after handling offset.</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a63f23afe56065aa038d5e6559a2449e4">MergeCompressedBitToMainBits</a>(<span class="keyword">const</span> std::vector&lt;uint32_t&gt; &amp;bitAddresses,</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream, <a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> &amp;frameBlocks, uint32_t wordOffset,</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    uint32_t blockIndex = 0);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a3f41a826de87be1000f38529fec345ac">mergeLutBits</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;elementName,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;configValue, <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream, <a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> &amp;frameBlocks,</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    uint32_t wordOffset, <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a37784f35dee02de59c8d09057e368044">ElementConfigMap</a> &amp;elementMap);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a9cb00f66f3601e31c679c36a3011f923">mergeLutRamOrRomBits</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;elementName, <span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;configVal,</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream, <a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> &amp;frameBlocks, uint32_t wordOffset,</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a84f574e1f946d923d97edc833ea09664">TiletypeElementMap</a> &amp;library);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a8408e741933a976c5cf1c1142e2267a4">mergeCompoundSettingBits</a>(<a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> element1Name, <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> config1Val,</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="../../de/d76/namespacetorc_1_1physical.html#a10b411a1f414a79691ee3abbd4aa8a41">InstanceSharedPtr</a> instancePtr, <span class="keyword">const</span> <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a37784f35dee02de59c8d09057e368044">ElementConfigMap</a> &amp;elementMap,</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> &amp;frameBlocks, uint32_t wordOffset, <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#aac5fe844b05806043c42bd11d962e2d3">mergeDspMaskOrPattern</a>(<a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> elementName, <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> configVal,</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="../../de/d76/namespacetorc_1_1physical.html#a10b411a1f414a79691ee3abbd4aa8a41">InstanceSharedPtr</a> instancePtr, <span class="keyword">const</span> <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a37784f35dee02de59c8d09057e368044">ElementConfigMap</a> &amp;elementMap,</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> &amp;frameBlocks, uint32_t wordOffset, <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ab0c649ca250a8b9d7c6b4fcb2e94b87f">mergeRambInitBits</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;configVal, uint32_t memoryInitRow,</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream, <a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> &amp;frameBlocks, uint32_t wordOffset, <span class="keyword">const</span> vector&lt;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        uint32_t&gt; &amp;bitAddresses, uint32_t block);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">// Returns true if the setting is for LUT</span></div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#aa9d765ccfdb90052eb82cbcf64c91f8e">  100</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#aa9d765ccfdb90052eb82cbcf64c91f8e">isLutEquationSetting</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;configValue) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">return</span> regex_match(configValue, kLUTConfigRegEx);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#a9bf6e309c72cf92c5a12a988e6d3c56d">  104</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a9bf6e309c72cf92c5a12a988e6d3c56d">isLutRamOrRomSetting</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;configVal) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">return</span> regex_match(configVal, kLUTRAMorROMConfigRegEx);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#a2fb65c6139c9c19441fe873b237ff916">  108</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a2fb65c6139c9c19441fe873b237ff916">isMemoryInitSetting</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;configName) {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">return</span> configName.length() == 7 &amp;&amp; configName.substr(0, 5).compare(<span class="stringliteral">&quot;INIT_&quot;</span>) == 0;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#a5f7c2023bd81037f141ea023410c130b">  112</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a5f7c2023bd81037f141ea023410c130b">isMemoryParityInitSetting</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;configName) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">return</span> configName.substr(0, 6).compare(<span class="stringliteral">&quot;INITP_&quot;</span>) == 0;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#aaefb46a5fbc0ab62cd830dd0844168a9">  116</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#aaefb46a5fbc0ab62cd830dd0844168a9">siteExistsInLibrary</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;siteType, <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a84f574e1f946d923d97edc833ea09664">TiletypeElementMap</a> &amp;library) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    TiletypeElementMap::iterator pLibrary = library.find(siteType);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">return</span> (pLibrary != library.end());</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#a27c41d0999d3ddd7e5b963f098c4d526">  121</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a27c41d0999d3ddd7e5b963f098c4d526">elementAndConfigExistInLibrary</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;elementName, <span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;configValue, <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a37784f35dee02de59c8d09057e368044">ElementConfigMap</a> &amp;elementMap) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// Check if element exists</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    ElementConfigMap::iterator pElement = elementMap.find(elementName);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">if</span>(pElement != elementMap.end()) {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="comment">// Check if config exists</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        ConfigBitMap::iterator pConfig = pElement-&gt;second.find(configValue);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">if</span>(pConfig != pElement-&gt;second.end())</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Element &quot;</span> &lt;&lt; elementName &lt;&lt; <span class="stringliteral">&quot; with config &quot;</span> &lt;&lt; configValue &lt;&lt; <span class="stringliteral">&quot; not found in library&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">// Populate map data structure from the library database.</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keyword">static</span> <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a84f574e1f946d923d97edc833ea09664">TiletypeElementMap</a> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ac2cfe73f8e07aa3203a787964f3cde07">populateLibraryMap</a>(<a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a8c1ec704109b2065aaa689653dab645a">boost::filesystem::path</a> libDBPath);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">/// \brief Converts XDL file to bitstream by merging primitive bitstreams from library</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment"></span><span class="comment">//  Main function starts here</span></div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">  139</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span>(argc != 3) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;Usage: &quot;</span> &lt;&lt; argv[0] &lt;&lt; <span class="stringliteral">&quot; &lt;XDL file path&gt; &lt;library path&gt;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// Initialize the DirectoryTree class</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="../../d4/da0/classtorc_1_1common_1_1DirectoryTree.html">torc::common::DirectoryTree</a> directoryTree(argv[0]);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">// Open the XDL file and check if it opens successfully</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> xdlFileName(argv[1]);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    std::fstream xdlFileStream(xdlFileName.c_str());</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">if</span>(!xdlFileStream.good()) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Could not open file &quot;</span> &lt;&lt; xdlFileName &lt;&lt; std::endl;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">// Check if the library path exists</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a8c1ec704109b2065aaa689653dab645a">boost::filesystem::path</a> libraryPath(argv[2]);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">if</span>(!boost::filesystem::exists(libraryPath)) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Library folder - &quot;</span> &lt;&lt; libraryPath.string() &lt;&lt; <span class="stringliteral">&quot; - does not exist &quot;</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            &lt;&lt; std::endl;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// This map holds which elements have compound setting</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="../../da/de3/build_2SharedFunctions_8cpp.html#abf766b95f4ef8ccf67f3c7414f426bff">InitializeCompoundSettingsMap</a>();</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">// Import the XDL file</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="../../d1/d1c/classtorc_1_1physical_1_1XdlImporter.html">torc::physical::XdlImporter</a> importer;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    importer(xdlFileStream, xdlFileName);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="comment">// Get the design pointer</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="../../de/d76/namespacetorc_1_1physical.html#a0d673321363a5e426cf2d160319bb4c2">DesignSharedPtr</a> designPtr = importer.<a class="code" href="../../d1/d1c/classtorc_1_1physical_1_1XdlImporter.html#ac9c8c474aaa38744850a967ebbfd3c7e">getDesignPtr</a>();</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="comment">// Get the part number</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> partNumber = designPtr-&gt;getDevice();</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="comment">// Open the database and get sites and tiles</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="../../d6/d22/classtorc_1_1architecture_1_1DDB.html">DDB</a> ddb(partNumber);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/db7/classtorc_1_1architecture_1_1Sites.html">Sites</a> &amp;sites = ddb.<a class="code" href="../../d6/d22/classtorc_1_1architecture_1_1DDB.html#ae17cc2209dfbec5367d9725940268028">getSites</a>();</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d8/dc4/classtorc_1_1architecture_1_1Tiles.html">Tiles</a> &amp;tiles = ddb.<a class="code" href="../../d6/d22/classtorc_1_1architecture_1_1DDB.html#ad0b7f6d2bdd6750089c8e24e467d9151">getTiles</a>();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">// Get null bitstream file path</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a8c1ec704109b2065aaa689653dab645a">boost::filesystem::path</a> nullBTPath = libraryPath / <span class="stringliteral">&quot;null_bitstreams&quot;</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> nullBitFileName = partNumber + <span class="stringliteral">&quot;.bit&quot;</span>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    nullBTPath = nullBTPath / nullBitFileName;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">if</span>(!boost::filesystem::exists(nullBTPath)) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Null bitstream file - &quot;</span> &lt;&lt; nullBTPath.string() &lt;&lt; <span class="stringliteral">&quot; - does not exist.&quot;</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            &lt;&lt; std::endl;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">// Get the compressed bitstreams library database file path</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> libDBFileName = ddb.<a class="code" href="../../d6/d22/classtorc_1_1architecture_1_1DDB.html#a362c8b64ff9cce6a41fa29745f760101">getFamilyName</a>() + <span class="stringliteral">&quot;.ldb&quot;</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a8c1ec704109b2065aaa689653dab645a">boost::filesystem::path</a> libDBPath = libraryPath / libDBFileName;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">if</span>(!boost::filesystem::exists(libDBPath)) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Library database file - &quot;</span> &lt;&lt; libDBPath.string() &lt;&lt; <span class="stringliteral">&quot; - does not exist.&quot;</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            &lt;&lt; std::endl;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// Populate map data structure from the library database</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a84f574e1f946d923d97edc833ea09664">TiletypeElementMap</a> library = <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ac2cfe73f8e07aa3203a787964f3cde07">populateLibraryMap</a>(libDBPath);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// Open a NULL bitstream of the Device</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    std::ifstream nullBitstream;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    nullBitstream.open(nullBTPath.string().c_str());</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="../../dd/d9a/classtorc_1_1bitstream_1_1Virtex5.html">Virtex5</a> bitstream;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    bitstream.<a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html#a1e9c8025e87e1fea15a48c68058e8cf0">read</a>(nullBitstream);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    bitstream.<a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html#abd14abbc9882c6087657d60ec361f48d">setDesignName</a>(designPtr-&gt;getName());</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    bitstream.<a class="code" href="../../dd/d9a/classtorc_1_1bitstream_1_1Virtex5.html#ad041b9c492aac1266b41d2e63d5a949e">initializeDeviceInfo</a>(bitstream.<a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html#a66ddeb303a05dc08f1872966be8fd614">getDeviceName</a>());</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    bitstream.<a class="code" href="../../dd/d9a/classtorc_1_1bitstream_1_1Virtex5.html#a9ef37b13bc698ee756a292c3aa7d74dd">initializeFrameMaps</a>();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    bitstream.<a class="code" href="../../dd/d9a/classtorc_1_1bitstream_1_1Virtex5.html#ad84a52b96885ee0df3f793b26aaa8b1e">initializeFullFrameBlocks</a>();</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="comment">// Go over the XDL and merge the required bits to bitstream</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#af5394c153db17bbec6ee4ca45ec276ea">convertXdlToBitstream</a>(designPtr, bitstream, sites, tiles, library);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">// Write the bitstream to a file.</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> customBitstreamPath =</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a8c1ec704109b2065aaa689653dab645a">boost::filesystem::path</a>(xdlFileName).replace_extension().string() + <span class="stringliteral">&quot;.custom.bit&quot;</span>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    std::ofstream customBitstreamFile(customBitstreamPath.c_str(), std::ios::binary);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Writing custom bitstream file &quot;</span> &lt;&lt; customBitstreamPath &lt;&lt; std::endl;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    bitstream.<a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html#a0d18e6dad16501861c5f983b10464194">write</a>(customBitstreamFile);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    xdlFileStream.close();</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    customBitstreamFile.close();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">// Parent function to convert xdl to bitstream. This function calls the child functions for instances and nets</span></div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#af5394c153db17bbec6ee4ca45ec276ea">  230</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#af5394c153db17bbec6ee4ca45ec276ea">convertXdlToBitstream</a>(<a class="code" href="../../de/d76/namespacetorc_1_1physical.html#a0d673321363a5e426cf2d160319bb4c2">DesignSharedPtr</a> inDesignPtr, <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream,</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/db7/classtorc_1_1architecture_1_1Sites.html">Sites</a> &amp;sites, <span class="keyword">const</span> <a class="code" href="../../d8/dc4/classtorc_1_1architecture_1_1Tiles.html">Tiles</a> &amp;tiles, <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a84f574e1f946d923d97edc833ea09664">TiletypeElementMap</a> &amp;library) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ad6304506c423b4c5c3285017109d4701">assembleInstances</a>(inDesignPtr, outBitstream, sites, tiles, library);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a73b44d26286730d2c741a0c4cbdeb303">assembleNets</a>(inDesignPtr, outBitstream, sites, tiles, library);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">// Update the frame words in packets</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="../../dd/d9a/classtorc_1_1bitstream_1_1Virtex5.html">Virtex5</a> *virtexBitstreamPtr = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../dd/d9a/classtorc_1_1bitstream_1_1Virtex5.html">Virtex5</a> *<span class="keyword">&gt;</span>(&amp;outBitstream);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">if</span>(virtexBitstreamPtr) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        virtexBitstreamPtr-&gt;<a class="code" href="../../dd/d9a/classtorc_1_1bitstream_1_1Virtex5.html#a28722839246b11adec4a0c43d2141f92">updateFullFrameBlocks</a>();</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">// This function takes in a design pointer, goes over all the instances, finds compressed</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">// bitstream in library for each config and merges the bits with outBitstream.</span></div>
<div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#ad6304506c423b4c5c3285017109d4701">  247</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ad6304506c423b4c5c3285017109d4701">assembleInstances</a>(<a class="code" href="../../de/d76/namespacetorc_1_1physical.html#a0d673321363a5e426cf2d160319bb4c2">DesignSharedPtr</a> inDesignPtr, <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream,</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/db7/classtorc_1_1architecture_1_1Sites.html">Sites</a> &amp;sites, <span class="keyword">const</span> <a class="code" href="../../d8/dc4/classtorc_1_1architecture_1_1Tiles.html">Tiles</a> &amp;tiles, <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a84f574e1f946d923d97edc833ea09664">TiletypeElementMap</a> &amp;library) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Going through instances...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">// Get instances begin and end</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    InstanceSharedPtrVector::const_iterator pInstance = inDesignPtr-&gt;instancesBegin();</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    InstanceSharedPtrVector::const_iterator eInstance = inDesignPtr-&gt;instancesEnd();</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">// Iterate over all the instances</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">while</span>(pInstance != eInstance) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <a class="code" href="../../de/d76/namespacetorc_1_1physical.html#a10b411a1f414a79691ee3abbd4aa8a41">InstanceSharedPtr</a> instancePtr = *pInstance;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;siteType = instancePtr-&gt;getType();</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="comment">// Check if instance is placed on supported site type</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a545092a4b96c8e383b26db705f16a133">isSiteTypeSupported</a>(instancePtr-&gt;getType()) &amp;&amp; <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#aaefb46a5fbc0ab62cd830dd0844168a9">siteExistsInLibrary</a>(siteType, library)) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> siteName = instancePtr-&gt;getSite();</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="comment">// Get the frame set for this site</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            uint32_t wordOffset = 0;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> frameBlocks = <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a6e0095201e3a61112e9750279c99859e">GetFrameBlocksFromSiteName</a>(outBitstream, siteName,</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                sites, tiles, wordOffset);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;Instance &quot;</span> &lt;&lt; instancePtr-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; placed on site &quot;</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                &lt;&lt; siteName &lt;&lt; <span class="stringliteral">&quot; has &quot;</span> &lt;&lt; instancePtr-&gt;getConfigCount()</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; configs set.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="comment">// RAMB sites are handled in a slightly different manner</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a026bfc43702b6b80c8b19a1d05353a04">isRambSite</a>(siteType)) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a68dec44f26388501662acaccedcc52b7">assembleRambInstance</a>(instancePtr, outBitstream, frameBlocks,</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                    wordOffset, library);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                <span class="comment">// Get the element to config map for the given site type</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a37784f35dee02de59c8d09057e368044">ElementConfigMap</a> elementMap = library[siteType];</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                <span class="comment">// Go over all the configurations of the instance</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                <a class="code" href="../../dc/d33/classtorc_1_1physical_1_1ConfigMap.html#ad587f0db6f734f07dfeadbf1e61ea686">ConfigMap::const_iterator</a> pConfig = instancePtr-&gt;configBegin();</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                <a class="code" href="../../dc/d33/classtorc_1_1physical_1_1ConfigMap.html#ad587f0db6f734f07dfeadbf1e61ea686">ConfigMap::const_iterator</a> eConfig = instancePtr-&gt;configEnd();</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                <span class="keywordflow">while</span>(pConfig != eConfig) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                    std::cout &lt;&lt; <span class="stringliteral">&quot;\tWorking on config &quot;</span> &lt;&lt; pConfig-&gt;first &lt;&lt; <span class="stringliteral">&quot;::&quot;</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                        &lt;&lt; pConfig-&gt;second.getValue() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                    <span class="comment">// Lut equation has to be handled differently from other config setting.</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                    <span class="comment">// The boolean operation in the LUT equation have to be performed on the relevant bits.</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                    <span class="keywordflow">if</span>(<a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#aa9d765ccfdb90052eb82cbcf64c91f8e">isLutEquationSetting</a>(pConfig-&gt;second.getValue())) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                        <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a3f41a826de87be1000f38529fec345ac">mergeLutBits</a>(pConfig-&gt;first, pConfig-&gt;second.getValue(), outBitstream,</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                            frameBlocks, wordOffset, elementMap);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                    } <span class="comment">// LUT ROM and RAM settings also need special care</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a9bf6e309c72cf92c5a12a988e6d3c56d">isLutRamOrRomSetting</a>(pConfig-&gt;second.getValue())) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                        <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a9cb00f66f3601e31c679c36a3011f923">mergeLutRamOrRomBits</a>(pConfig-&gt;first,</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                            pConfig-&gt;second.getValue(), outBitstream, frameBlocks, wordOffset,</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                            library);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                    }  <span class="comment">// Some elements together effect the bitstream.</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../de/dea/SharedFunctions_8cpp.html#accff214971f410c2bac18cf6db5ce45b">elementNeedsCompoundSetting</a>(pConfig-&gt;first)) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                        <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a8408e741933a976c5cf1c1142e2267a4">mergeCompoundSettingBits</a>(pConfig-&gt;first, pConfig-&gt;second.getValue(),</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                            instancePtr, elementMap, frameBlocks, wordOffset, outBitstream);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                    } <span class="comment">// The DSP MASK and PATTERN have hex values</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../da/de3/build_2SharedFunctions_8cpp.html#ae398806f4ae6b7661e83c6fe30f81526">DSPMaskOrPatternConfig</a>(instancePtr-&gt;getType(), pConfig-&gt;first)) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                        <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#aac5fe844b05806043c42bd11d962e2d3">mergeDspMaskOrPattern</a>(pConfig-&gt;first, pConfig-&gt;second.getValue(),</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                            instancePtr, elementMap, frameBlocks, wordOffset, outBitstream);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                        <span class="comment">// Merge compressed bitstream to main bitstream if valid setting</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                        <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ad0ffc71dd4cddb16e5dd668937663cff">checkValidityAndMergeBitstream</a>(pConfig-&gt;first, pConfig-&gt;second.getValue(),</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                            elementMap, frameBlocks, wordOffset, outBitstream);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                    }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                    std::cout &lt;&lt; <span class="stringliteral">&quot;\t------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                    pConfig++;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;Site &quot;</span> &lt;&lt; instancePtr-&gt;getType() &lt;&lt; <span class="stringliteral">&quot; not supported.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        pInstance++;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;}</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">// Given a RAMB instance, go over all the configs and merge the corresponding bits</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">// The memory init values have to be handled differently.</span></div>
<div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#a68dec44f26388501662acaccedcc52b7">  328</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a68dec44f26388501662acaccedcc52b7">assembleRambInstance</a>(<a class="code" href="../../de/d76/namespacetorc_1_1physical.html#a10b411a1f414a79691ee3abbd4aa8a41">InstanceSharedPtr</a> instance, <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream,</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> &amp;frameBlocks, uint32_t wordOffset, <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a84f574e1f946d923d97edc833ea09664">TiletypeElementMap</a> &amp;library) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="comment">// Get the element to config map for the given site type</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a37784f35dee02de59c8d09057e368044">ElementConfigMap</a> elementMap = library[instance-&gt;getType()];</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;  Instance &quot;</span> &lt;&lt; instance-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; has &quot;</span> &lt;&lt; instance-&gt;getConfigCount()</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; configs set.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="comment">// Open the RAMBIT file and store data in a vector</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="comment">// This file stores memory address to bitstream address map</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> rambBitFileName = <span class="stringliteral">&quot;library/memory/bram-map.bits&quot;</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    std::ifstream rambBitFile(rambBitFileName.c_str(), std::ios::binary);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">if</span>(!rambBitFile.is_open()) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Could not open file &quot;</span> &lt;&lt; rambBitFileName &lt;&lt; std::endl;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    std::vector&lt;uint32_t&gt; bitAddresses;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    uint32_t count = 0, bitAddress = 0;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">while</span>(!rambBitFile.eof()) {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="comment">// One number is ignored.</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        rambBitFile.read((<span class="keywordtype">char</span> *) &amp;count, 4);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        rambBitFile.read((<span class="keywordtype">char</span> *) &amp;bitAddress, 4);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        bitAddress = ntohl(bitAddress);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        bitAddresses.push_back(bitAddress);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    rambBitFile.close();</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="comment">// Open the RAMB parity bit file and store the data in a vector</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> rambParityBitFileName = <span class="stringliteral">&quot;library/memory/bram-map-par.bits&quot;</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    std::ifstream rambParityBitFile(rambParityBitFileName.c_str(), std::ios::binary);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">if</span>(!rambParityBitFile.is_open()) {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Could not open file &quot;</span> &lt;&lt; rambParityBitFileName &lt;&lt; std::endl;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    std::vector&lt;uint32_t&gt; parityBitAddresses;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    count = 0, bitAddress = 0;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">while</span>(!rambParityBitFile.eof()) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        rambParityBitFile.read((<span class="keywordtype">char</span> *) &amp;count, 4);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        rambParityBitFile.read((<span class="keywordtype">char</span> *) &amp;bitAddress, 4);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        bitAddress = ntohl(bitAddress);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        parityBitAddresses.push_back(bitAddress);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    rambParityBitFile.close();</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="comment">// Before going over configs, merge the RAMB base bits.</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a63f23afe56065aa038d5e6559a2449e4">MergeCompressedBitToMainBits</a>(elementMap[instance-&gt;getType()][<span class="stringliteral">&quot;BASE&quot;</span>], outBitstream,</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        frameBlocks, wordOffset);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">// Go over all the configurations of the instance</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="../../dc/d33/classtorc_1_1physical_1_1ConfigMap.html#ad587f0db6f734f07dfeadbf1e61ea686">ConfigMap::const_iterator</a> pConfig = instance-&gt;configBegin();</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="../../dc/d33/classtorc_1_1physical_1_1ConfigMap.html#ad587f0db6f734f07dfeadbf1e61ea686">ConfigMap::const_iterator</a> eConfig = instance-&gt;configEnd();</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">while</span>(pConfig != eConfig) {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;\tBRAM Working on config &quot;</span> &lt;&lt; pConfig-&gt;first &lt;&lt; <span class="stringliteral">&quot; value &quot;</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            &lt;&lt; pConfig-&gt;second.getValue() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="comment">// RAMB memory and parity init values have to be handled differently.</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="comment">// The boolean operation in the LUT equation have to be performed on the relevant bits.</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a2fb65c6139c9c19441fe873b237ff916">isMemoryInitSetting</a>(pConfig-&gt;first)) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="comment">// Get the row number from config name. Last two character are row number in hex form.</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            std::stringstream ssRow;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            uint32_t memoryInitRow;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            ssRow &lt;&lt; std::hex &lt;&lt; pConfig-&gt;first.substr(pConfig-&gt;first.length() - 2, 2);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            ssRow &gt;&gt; memoryInitRow;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ab0c649ca250a8b9d7c6b4fcb2e94b87f">mergeRambInitBits</a>(pConfig-&gt;second.getValue(), memoryInitRow,</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                outBitstream, frameBlocks, wordOffset, bitAddresses, 1);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a5f7c2023bd81037f141ea023410c130b">isMemoryParityInitSetting</a>(pConfig-&gt;first)) {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <span class="comment">// Get the row number from config name. Last two character are row number in hex form.</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            std::stringstream ssRow;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            uint32_t memoryInitRow;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            ssRow &lt;&lt; std::hex &lt;&lt; pConfig-&gt;first.substr(pConfig-&gt;first.length() - 2, 2);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            ssRow &gt;&gt; memoryInitRow;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ab0c649ca250a8b9d7c6b4fcb2e94b87f">mergeRambInitBits</a>(pConfig-&gt;second.getValue(), memoryInitRow,</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                outBitstream, frameBlocks, wordOffset, parityBitAddresses, 1);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <span class="comment">// Merge compressed bitstream to main bitstream</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ad0ffc71dd4cddb16e5dd668937663cff">checkValidityAndMergeBitstream</a>(pConfig-&gt;first, pConfig-&gt;second.getValue(), elementMap,</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                frameBlocks, wordOffset, outBitstream);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        pConfig++;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;}</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">// This function takes in a design pointer, goes over all the nets, finds compressed</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">// bitstream in library for each pip and merges it with outBitstream.</span></div>
<div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#a73b44d26286730d2c741a0c4cbdeb303">  418</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a73b44d26286730d2c741a0c4cbdeb303">assembleNets</a>(<a class="code" href="../../de/d76/namespacetorc_1_1physical.html#a0d673321363a5e426cf2d160319bb4c2">DesignSharedPtr</a> inDesignPtr, <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream,</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/db7/classtorc_1_1architecture_1_1Sites.html">Sites</a> &amp;sites, <span class="keyword">const</span> <a class="code" href="../../d8/dc4/classtorc_1_1architecture_1_1Tiles.html">Tiles</a> &amp;tiles, <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a84f574e1f946d923d97edc833ea09664">TiletypeElementMap</a> &amp;library) {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">// Get the iterators to nets</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    NetSharedPtrVector::const_iterator pNets = inDesignPtr-&gt;netsBegin();</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    NetSharedPtrVector::const_iterator eNets = inDesignPtr-&gt;netsEnd();</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Working on NETs... count: &quot;</span> &lt;&lt; inDesignPtr-&gt;getNetCount() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="comment">// Go over all the nets</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">while</span>(pNets != eNets) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <a class="code" href="../../de/d76/namespacetorc_1_1physical.html#a5ae9fcfb9cf8228f052b7412796418f6">NetSharedPtr</a> netPtr = *pNets;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Net: &quot;</span> &lt;&lt; netPtr-&gt;getName() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="comment">// Go over all the pips in the net</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <a class="code" href="../../d4/d20/classtorc_1_1physical_1_1Net.html#a95954f476447102e19f7f50f92a3d780">Net::PipConstIterator</a> pPips = netPtr-&gt;pipsBegin();</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <a class="code" href="../../d4/d20/classtorc_1_1physical_1_1Net.html#a95954f476447102e19f7f50f92a3d780">Net::PipConstIterator</a> ePips = netPtr-&gt;pipsEnd();</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="keywordflow">while</span>(pPips != ePips) {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <span class="comment">// Get word offset for this tile</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <a class="code" href="../../de/da8/structtorc_1_1architecture_1_1xilinx_1_1TileIndex.html">TileIndex</a> tileIndex = tiles.<a class="code" href="../../d8/dc4/classtorc_1_1architecture_1_1Tiles.html#ab3eeb3d38f25c4b394ad27b802f1155d">findTileIndex</a>(pPips-&gt;getTileName());</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d0/d83/classtorc_1_1architecture_1_1TileInfo.html">TileInfo</a>&amp; tileInfo = tiles.<a class="code" href="../../d8/dc4/classtorc_1_1architecture_1_1Tiles.html#a62816b62b67b01034e660ed89a6f0d99">getTileInfo</a>(tileIndex);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> tileType = tiles.<a class="code" href="../../d8/dc4/classtorc_1_1architecture_1_1Tiles.html#a757fd51b26c683f1b63ed7c10b8020a6">getTileTypeName</a>(tileInfo.<a class="code" href="../../d0/d83/classtorc_1_1architecture_1_1TileInfo.html#a3929d1b6b85ec182fccfc88eef0203b7">getTypeIndex</a>());</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            uint32_t wordOffset = 0;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> frameBlocks = <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#aee41ce2e2c5a5987ac9d395f38335214">GetFrameBlocksFromTileIndex</a>(outBitstream, tileIndex,</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                tiles, wordOffset);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a37784f35dee02de59c8d09057e368044">ElementConfigMap</a> elementMap = library[tileType];</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;\tTile &quot;</span> &lt;&lt; tileInfo.<a class="code" href="../../d0/d83/classtorc_1_1architecture_1_1TileInfo.html#a47f66c745c2abf956a03b246dd55b363">getName</a>() &lt;&lt; <span class="stringliteral">&quot; Src: &quot;</span> &lt;&lt; pPips-&gt;getSourceWireName()</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                &lt;&lt; std::endl;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ad0ffc71dd4cddb16e5dd668937663cff">checkValidityAndMergeBitstream</a>(pPips-&gt;getSourceWireName(), pPips-&gt;getSinkWireName(),</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                elementMap, frameBlocks, wordOffset, outBitstream);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            pPips++;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        pNets++;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;}</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">// Given a site, return the frame blocks in bitstream which are affected by the site configuration</span></div>
<div class="line"><a name="l00458"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#a6e0095201e3a61112e9750279c99859e">  458</a></span>&#160;<a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a6e0095201e3a61112e9750279c99859e">GetFrameBlocksFromSiteName</a>(<a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;inBitstream, <span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;siteName,</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../db/db7/classtorc_1_1architecture_1_1Sites.html">Sites</a> &amp;sites, <span class="keyword">const</span> <a class="code" href="../../d8/dc4/classtorc_1_1architecture_1_1Tiles.html">Tiles</a> &amp; tiles, uint32_t &amp;outWordOffset) {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="../../db/dd9/structtorc_1_1architecture_1_1xilinx_1_1SiteIndex.html">SiteIndex</a> siteIndex = sites.<a class="code" href="../../db/db7/classtorc_1_1architecture_1_1Sites.html#ae9dfdb8efa0e1268d2ddd744dc907375">findSiteIndex</a>(siteName);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../da/dd8/classtorc_1_1architecture_1_1Site.html">Site</a>&amp; site = sites.<a class="code" href="../../db/db7/classtorc_1_1architecture_1_1Sites.html#adb80b2161c0ca2059c99a1ef491b9024">getSite</a>(siteIndex);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="comment">// look up the site tile index</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="../../de/da8/structtorc_1_1architecture_1_1xilinx_1_1TileIndex.html">TileIndex</a> tileIndex = site.<a class="code" href="../../da/dd8/classtorc_1_1architecture_1_1Site.html#aa6161f227602b45ee6775d161c94ad2d">getTileIndex</a>();</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#aee41ce2e2c5a5987ac9d395f38335214">GetFrameBlocksFromTileIndex</a>(inBitstream, tileIndex, tiles, outWordOffset);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">// Given the tile index, return the frame blocks in bitstream which are affected by the site configuration</span></div>
<div class="line"><a name="l00470"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#aee41ce2e2c5a5987ac9d395f38335214">  470</a></span>&#160;<a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#aee41ce2e2c5a5987ac9d395f38335214">GetFrameBlocksFromTileIndex</a>(<a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;inBitstream, <a class="code" href="../../de/da8/structtorc_1_1architecture_1_1xilinx_1_1TileIndex.html">TileIndex</a> tileIndex,</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d8/dc4/classtorc_1_1architecture_1_1Tiles.html">Tiles</a> &amp; tiles, uint32_t &amp;outWordOffset) {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d0/d83/classtorc_1_1architecture_1_1TileInfo.html">TileInfo</a>&amp; tileInfo = tiles.<a class="code" href="../../d8/dc4/classtorc_1_1architecture_1_1Tiles.html#a62816b62b67b01034e660ed89a6f0d99">getTileInfo</a>(tileIndex);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d8/d45/structtorc_1_1architecture_1_1xilinx_1_1TileRow.html">TileRow</a> &amp;tileRow = tileInfo.<a class="code" href="../../d0/d83/classtorc_1_1architecture_1_1TileInfo.html#a03aca096f150d01eecd07f159578a48a">getRow</a>();</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d9/deb/structtorc_1_1architecture_1_1xilinx_1_1TileCol.html">TileCol</a> &amp;tileCol = tileInfo.<a class="code" href="../../d0/d83/classtorc_1_1architecture_1_1TileInfo.html#ae145afababcbd401dbc866188f1008ce">getCol</a>();</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <a class="code" href="../../dd/d9a/classtorc_1_1bitstream_1_1Virtex5.html">Virtex5</a> *virtex5BitStream = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../dd/d9a/classtorc_1_1bitstream_1_1Virtex5.html">Virtex5</a> *<span class="keyword">&gt;</span> (&amp;inBitstream);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    uint32_t bitIndexBegin = 0, bitIndexEnd = 0;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    uint32_t primaryXdlCol = virtex5BitStream-&gt;<a class="code" href="../../dd/d9a/classtorc_1_1bitstream_1_1Virtex5.html#a43cb0728ebd386e04c76d7c4a98def9c">getPrimaryXdlColumn</a>(tileCol);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> returnFrameBlocks = virtex5BitStream-&gt;<a class="code" href="../../dd/d9a/classtorc_1_1bitstream_1_1Virtex5.html#a32f835da769c672ea933a03fdc34c970">getXdlFrames</a>(tileRow, primaryXdlCol,</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        bitIndexBegin, bitIndexEnd);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="comment">// Each frame covers the full height of clock region which contains many rows of tiles.</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="comment">// The library contains configuration bits only for the first row. So the word index has to</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="comment">// be offset to reach the correct row. The bit index remains same across rows.</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    outWordOffset = 0;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">if</span>(bitIndexBegin != bitIndexEnd) {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        outWordOffset = Virtex5::eFrameLength - (bitIndexEnd &gt;&gt; 5); <span class="comment">// eFrameLength is number of words in a frame</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">return</span> returnFrameBlocks;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;}</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">// Check if the element and config exist in library. If yes, merge the corresponding bits with the bitstream</span></div>
<div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#ad0ffc71dd4cddb16e5dd668937663cff">  495</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ad0ffc71dd4cddb16e5dd668937663cff">checkValidityAndMergeBitstream</a>(<a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> elementName, <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> configVal,</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a37784f35dee02de59c8d09057e368044">ElementConfigMap</a> &amp;elementMap, <a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> &amp;frameBlocks, uint32_t wordOffset,</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    ElementConfigMap::const_iterator elementIter = elementMap.find(elementName);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="comment">// If element found in the map</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordflow">if</span>(elementIter != elementMap.end()) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        ConfigBitMap::const_iterator configIter = elementIter-&gt;second.find(configVal);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="comment">//If config value found in the config to bit map</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordflow">if</span>(configIter != elementIter-&gt;second.end()) {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a63f23afe56065aa038d5e6559a2449e4">MergeCompressedBitToMainBits</a>(configIter-&gt;second, outBitstream, frameBlocks, wordOffset,</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                0);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;Config &quot;</span> &lt;&lt; configVal &lt;&lt; <span class="stringliteral">&quot; for element &quot;</span> &lt;&lt; elementName</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; not found in library.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Element &quot;</span> &lt;&lt; elementName &lt;&lt; <span class="stringliteral">&quot; not found in library.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;}</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">// Go over all the bit addresses, disect it into frame address, word address and bit address.</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">// Merge with outBitstream after handling offset.</span></div>
<div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#a63f23afe56065aa038d5e6559a2449e4">  518</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a63f23afe56065aa038d5e6559a2449e4">MergeCompressedBitToMainBits</a>(<span class="keyword">const</span> std::vector&lt;uint32_t&gt; &amp;bitAddresses,</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream, <a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> &amp;frameBlocks, uint32_t wordOffset,</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    uint32_t blockIndex) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    int32_t numSetBits = bitAddresses.size();</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;\tNumber of bits set: &quot;</span> &lt;&lt; numSetBits &lt;&lt; std::endl;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="../../d3/d30/classtorc_1_1bitstream_1_1FrameSet.html">VirtexFrameSet</a>&amp; frameSet = frameBlocks.<a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html#ab0fa7be73d1d39a854a3cda98059d1f0">mBlock</a>[blockIndex];</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">if</span>(!frameSet.empty()) {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; numSetBits; i++) {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            uint32_t bitAddr = bitAddresses[i];</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            int32_t bitIndex = bitAddr &amp; 0x000000FF; <span class="comment">// get the lowest byte</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            int32_t wordIndex = (bitAddr &amp; 0x0000FF00) &gt;&gt; 8;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <span class="comment">// Library setting is for first row of clock region. Word index has to be offset to reach the correct row.</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            wordIndex += wordOffset;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            int32_t frameIndex = (bitAddr &amp; 0xFFFF0000) &gt;&gt; 16;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;\t  Frame: &quot;</span> &lt;&lt; <a class="code" href="../../df/d66/classtorc_1_1bitstream_1_1Hex32.html">Hex32</a>(frameIndex) &lt;&lt; <span class="stringliteral">&quot; Word: &quot;</span> &lt;&lt; <a class="code" href="../../df/d66/classtorc_1_1bitstream_1_1Hex32.html">Hex32</a>(wordIndex)</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; bit: &quot;</span> &lt;&lt; <a class="code" href="../../df/d66/classtorc_1_1bitstream_1_1Hex32.html">Hex32</a>(bitIndex) &lt;&lt; std::endl;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#af7dea325fc61fbd3d610023ed2eac035">VirtexFrameSharedPtr</a> virtexFrame = frameSet[frameIndex];</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            <a class="code" href="../../d2/db3/classtorc_1_1bitstream_1_1Frame.html#abef4da3efd894f31170a5959421890a7">VirtexFrame::word_t</a> currentWord = virtexFrame-&gt;getWords()[wordIndex];</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <a class="code" href="../../d2/db3/classtorc_1_1bitstream_1_1Frame.html#abef4da3efd894f31170a5959421890a7">VirtexFrame::word_t</a> word = (1 &lt;&lt; (bitIndex)) | currentWord;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            virtexFrame-&gt;setWord(wordIndex, word);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Unknown frame type.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;}</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">// This funtion goes over the LUT equation and applies the boolean operation present in the</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">// LUT equation to the corresponding bitstreams of literals</span></div>
<div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#a3f41a826de87be1000f38529fec345ac">  551</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a3f41a826de87be1000f38529fec345ac">mergeLutBits</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;elementName,</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;configValue, <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream, <a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> &amp;frameBlocks,</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    uint32_t wordOffset, <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a37784f35dee02de59c8d09057e368044">ElementConfigMap</a> &amp;elementMap) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="comment">// Get the right hand side and lefthand side of the LUT equation.</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    std::vector&lt;std::string&gt; splitVector;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    boost::algorithm::split(splitVector, configValue, boost::algorithm::is_any_of(<span class="stringliteral">&quot;=&quot;</span>));</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="comment">// The left side tell which output (O5 or O6) is being affected. Store it in a global</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="comment">// so that it can be used by functions called from bison</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a2125caacb82549eb574f03cd135e944b">gLUTEquationLeft</a> = splitVector[0];</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> equationRight = splitVector[1];</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="comment">// Store the frames for LUT setting constant 1. XOR with these frames give NOT functionality.</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> lutEquationForOne = <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a2125caacb82549eb574f03cd135e944b">gLUTEquationLeft</a> + <span class="stringliteral">&quot;=1&quot;</span>;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="comment">// Currently all the frames of a LUT setting are not stored. We know only 4 words get affected by LUT setting -</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="comment">// 4 frames and a word in each frame. So instead we store only 4 words and the frame index and word index.</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a27c41d0999d3ddd7e5b963f098c4d526">elementAndConfigExistInLibrary</a>(elementName, lutEquationForOne, elementMap)) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a85f9e00b8a29802c081b79398eeb7b50">gcurrentConfigBitMap</a> = elementMap[elementName];</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        std::vector&lt;uint32_t&gt; bitAddressesForOne = <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a85f9e00b8a29802c081b79398eeb7b50">gcurrentConfigBitMap</a>[lutEquationForOne];</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ae545cfee0d72d85fe5e1b2125cd1040e">gCurrentReferenceFrameIndex</a> = bitAddressesForOne[0] &gt;&gt; 16;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ab5c8b6632acf2b4741268412b453dafa">gCUrrentReferenceWordIndex</a> = (bitAddressesForOne[0] &amp; 0x0000FF00) &gt;&gt; 8;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a71c2ef5b75e7061aa1f3ed2223e7afc9">gLUTWordsForOne</a>.clear();</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a71c2ef5b75e7061aa1f3ed2223e7afc9">gLUTWordsForOne</a>.resize(4, uint32_t(0));</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="keywordflow">for</span>(std::vector&lt;uint32_t&gt;::const_iterator bitIter = bitAddressesForOne.begin(); bitIter</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            != bitAddressesForOne.end(); bitIter++) {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            int32_t bitIndex = (*bitIter) &amp; 0x000000FF;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            int32_t frameIndex = (*bitIter) &gt;&gt; 16;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            uint32_t frameWord = 1 &lt;&lt; (bitIndex - 1);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a71c2ef5b75e7061aa1f3ed2223e7afc9">gLUTWordsForOne</a>[frameIndex - <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ae545cfee0d72d85fe5e1b2125cd1040e">gCurrentReferenceFrameIndex</a>] = <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a71c2ef5b75e7061aa1f3ed2223e7afc9">gLUTWordsForOne</a>[frameIndex</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                - <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ae545cfee0d72d85fe5e1b2125cd1040e">gCurrentReferenceFrameIndex</a>] | frameWord;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="comment">// Set the string to be scanned</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        yy_scan_string(equationRight.c_str());</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="comment">// Call the Bison parse function</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="keywordtype">int</span> parseResult = yyparse();</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="keywordflow">if</span>(parseResult != 0) {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;Error in parsing LUT equation &quot;</span> &lt;&lt; configValue &lt;&lt; std::endl;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            exit(-1);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="comment">// Build bit addresses out of the last frame in gStackOfFrames</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        std::vector&lt;uint32_t&gt; combinedLUTWords = <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a64d94125800c2dec062d056c9e556a1f">gStackOfFrames</a>[0];</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        std::vector&lt;uint32_t&gt; bitAddresses;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        uint32_t frameOffset = 0;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">for</span>(std::vector&lt;uint32_t&gt;::const_iterator wordIter = combinedLUTWords.begin(); wordIter</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            != combinedLUTWords.end(); wordIter++, frameOffset++) {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            uint32_t tempWord = *wordIter;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            uint32_t bitIndex = 1;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            <span class="keywordflow">while</span>(tempWord != 0) {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                <span class="comment">// check if the LSB is 1</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                <span class="keywordflow">if</span>(tempWord &amp; 1) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                    <span class="comment">// store the combined address</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                    bitAddresses.push_back(((<a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ae545cfee0d72d85fe5e1b2125cd1040e">gCurrentReferenceFrameIndex</a> + frameOffset) &lt;&lt; 16)</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                        | (<a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ab5c8b6632acf2b4741268412b453dafa">gCUrrentReferenceWordIndex</a> &lt;&lt; 8) | bitIndex);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                }</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                tempWord = tempWord &gt;&gt; 1;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                bitIndex++;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a63f23afe56065aa038d5e6559a2449e4">MergeCompressedBitToMainBits</a>(bitAddresses, outBitstream, frameBlocks, wordOffset);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a64d94125800c2dec062d056c9e556a1f">gStackOfFrames</a>.clear();</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;}</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment">// Function to parse the memory content string of LUTs configured as RAM or ROM</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment">// The way memory addresssing works is the first bit in the string is LSB</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment">// E.g. For memory string &quot;80000000&quot;, the LSB is set.</span></div>
<div class="line"><a name="l00628"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#a9cb00f66f3601e31c679c36a3011f923">  628</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a9cb00f66f3601e31c679c36a3011f923">mergeLutRamOrRomBits</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;elementName, <span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;configVal,</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream, <a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> &amp;frameBlocks, uint32_t wordOffset,</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a84f574e1f946d923d97edc833ea09664">TiletypeElementMap</a> &amp;library) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="comment">// Since memory content are similar for SLICEL and SLICEM,</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="comment">// they are stored in library under element name SLICE</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a37784f35dee02de59c8d09057e368044">ElementConfigMap</a> &amp;elementMap = library[<span class="stringliteral">&quot;SLICE&quot;</span>];</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="comment">// Get the right hand side and lefthand side of the LUT equation.</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    std::vector&lt;std::string&gt; splitVector;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    boost::algorithm::split(splitVector, configVal, boost::algorithm::is_any_of(<span class="stringliteral">&quot;=&quot;</span>));</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="comment">// Remove the first two characters - 0x - from the hex value</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> memoryValue = splitVector[1].substr(2);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">if</span>(memoryValue.length() != 8 &amp;&amp; memoryValue.length() != 16) {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Error: Illegal configuration of element &quot;</span> &lt;&lt; elementName &lt;&lt; std::endl;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    }</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="comment">// When output O5 of LUT is configured, it has only 8 hex characters in the memory string,</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="comment">// and they belong to the higher memory address of 16 hex characters.</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">if</span>(memoryValue.length() == 8) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        memoryValue = <span class="stringliteral">&quot;00000000&quot;</span> + memoryValue;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="comment">// Get the bit address vector</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">// Since X5LUT and X6LUT use the same memory address to bit address map,</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="comment">// element name is changed to use only 1st letter of the name, viz X (A, B, C or D)</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="comment">// and config name is changed to ROM</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> elementNameForMemoryMode = elementName.substr(0, 1);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    std::vector&lt;uint32_t&gt; bitAddressesForROM;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a27c41d0999d3ddd7e5b963f098c4d526">elementAndConfigExistInLibrary</a>(elementNameForMemoryMode, <span class="stringliteral">&quot;ROM&quot;</span>, elementMap))</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    bitAddressesForROM = elementMap[elementNameForMemoryMode][<span class="stringliteral">&quot;ROM&quot;</span>];</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    std::vector&lt;uint32_t&gt; bitAddresses;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="comment">// Iterate over the memory string from left to right</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">for</span>(uint32_t charIndex = 0; charIndex &lt; memoryValue.length(); charIndex++) {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        std::stringstream sshexChar;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        sshexChar &lt;&lt; std::hex &lt;&lt; memoryValue[charIndex];</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        uint32_t hexDigit;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        sshexChar &gt;&gt; hexDigit;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <span class="comment">// Go over the bits of the hex digit from left to right</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> bitIndex = 0; hexDigit != 0; bitIndex++) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            <span class="keywordflow">if</span>(hexDigit &amp; 8) {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                uint32_t memoryAddress = (charIndex &lt;&lt; 2) + bitIndex;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                std::stringstream ssConfigBitIndex;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                ssConfigBitIndex &lt;&lt; memoryAddress;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                bitAddresses.push_back(bitAddressesForROM[memoryAddress]);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            hexDigit = hexDigit &lt;&lt; 1;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a63f23afe56065aa038d5e6559a2449e4">MergeCompressedBitToMainBits</a>(bitAddresses, outBitstream, frameBlocks, wordOffset, 0);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;}</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div>
<div class="line"><a name="l00686"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#a8408e741933a976c5cf1c1142e2267a4">  686</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a8408e741933a976c5cf1c1142e2267a4">mergeCompoundSettingBits</a>(<a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> element1Name, <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> config1Val,</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <a class="code" href="../../de/d76/namespacetorc_1_1physical.html#a10b411a1f414a79691ee3abbd4aa8a41">InstanceSharedPtr</a> instancePtr, <span class="keyword">const</span> <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a37784f35dee02de59c8d09057e368044">ElementConfigMap</a> &amp;elementMap,</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> &amp;frameBlocks, uint32_t wordOffset, <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream) {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    std::vector&lt;std::string&gt; compoundElements = <a class="code" href="../../da/de3/build_2SharedFunctions_8cpp.html#a46f65f74df335c2429e6744c20816495">gCompoundSettingsMap</a>[element1Name];</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="comment">// For now assume there is only on element in the vector, i.e. there is a compound</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="comment">// setting with only two elements.</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">if</span>(compoundElements.size() != 1) {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Compound setting with more than two elements not handled currently&quot;</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            &lt;&lt; std::endl;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;\tIt is a compound setting.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="comment">// The two element names will be concatenated to form a compound element name Element1Element2.</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <span class="comment">// Similarly two config settings will be concatenated to form a compound config name.</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> element2Name = compoundElements[0];</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> compoundElementName = element1Name + element2Name;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="comment">// Find the 2nd element config in the instance</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> config2Val, config2Name;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        instancePtr-&gt;getConfig(element2Name, config2Name, config2Val);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="comment">// Element 2 config not set</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <span class="keywordflow">if</span>(config2Val.compare(<a class="code" href="../../da/de3/build_2SharedFunctions_8cpp.html#a513d3189064c1fdd9dd66f5bcede1f08">kConfigOff</a>) == 0) {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;Illegal configuration. Element &quot;</span> &lt;&lt; element2Name &lt;&lt; <span class="stringliteral">&quot; must be set &quot;</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; along with element &quot;</span> &lt;&lt; element1Name &lt;&lt; std::endl;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        }</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="comment">// Get compound config val</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> compoundConfigVal = config1Val + config2Val;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="comment">// Verify setting and merge bits</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ad0ffc71dd4cddb16e5dd668937663cff">checkValidityAndMergeBitstream</a>(compoundElementName, compoundConfigVal, elementMap,</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            frameBlocks, wordOffset, outBitstream);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    }</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;}</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div>
<div class="line"><a name="l00725"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#aac5fe844b05806043c42bd11d962e2d3">  725</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#aac5fe844b05806043c42bd11d962e2d3">mergeDspMaskOrPattern</a>(<a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> elementName, <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> configVal,</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <a class="code" href="../../de/d76/namespacetorc_1_1physical.html#a10b411a1f414a79691ee3abbd4aa8a41">InstanceSharedPtr</a> instancePtr, <span class="keyword">const</span> <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a37784f35dee02de59c8d09057e368044">ElementConfigMap</a> &amp;elementMap,</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> &amp;frameBlocks, uint32_t wordOffset, <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream) {</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    std::vector&lt;uint32_t&gt; bitAddresses;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="comment">// Go over all the characters of the config val string</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">for</span>(uint32_t charIndex = 0; charIndex &lt; configVal.length(); charIndex++) {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        std::stringstream sshexChar;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        sshexChar &lt;&lt; std::hex &lt;&lt; configVal[configVal.length() - charIndex - 1];</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        uint32_t hexDigit;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        sshexChar &gt;&gt; hexDigit;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <span class="comment">// Go over all the bits of the hex digit</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> bitIndex = 0; hexDigit != 0; bitIndex++) {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            <span class="keywordflow">if</span>(hexDigit &amp; 1) {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                <span class="keywordtype">int</span> configBitIndex = (charIndex &lt;&lt; 2) + bitIndex;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                std::stringstream ssConfigBitIndex;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                ssConfigBitIndex &lt;&lt; configBitIndex;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ad0ffc71dd4cddb16e5dd668937663cff">checkValidityAndMergeBitstream</a>(elementName, ssConfigBitIndex.str(), elementMap,</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                    frameBlocks, wordOffset, outBitstream);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            }</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            hexDigit = hexDigit &gt;&gt; 1;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    }</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;}</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment">// This function taken in the hex character string of memory and parity initial values, finds the</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment">// bit address for set memory bits and merges the bits with outBitstream</span></div>
<div class="line"><a name="l00753"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#ab0c649ca250a8b9d7c6b4fcb2e94b87f">  753</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ab0c649ca250a8b9d7c6b4fcb2e94b87f">mergeRambInitBits</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;configVal, uint32_t memoryInitRow,</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <a class="code" href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">Bitstream</a> &amp;outBitstream, <a class="code" href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">VirtexFrameBlocks</a> &amp;frameBlocks, uint32_t wordOffset, <span class="keyword">const</span> vector&lt;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        uint32_t&gt; &amp;ramBitAddress, uint32_t block) {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    vector&lt;uint32_t&gt; bitAddresses; <span class="comment">// vector to hold bit addresses of set memory bits</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    uint32_t configValLength = configVal.length();</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    uint32_t numBitsPerConfig = configValLength &lt;&lt; 2; <span class="comment">// 4 bits every hex character</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="comment">// Go over the memory string from right to left</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">for</span>(uint32_t charIndex = 0; charIndex &lt; configValLength; charIndex++) {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        std::stringstream sshexChar;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        sshexChar &lt;&lt; std::hex &lt;&lt; configVal[configValLength - charIndex - 1];</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        uint32_t hexDigit;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        sshexChar &gt;&gt; hexDigit;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        <span class="comment">// Go over the bits of hex digit from right to left</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> bitIndex = 0; hexDigit != 0; bitIndex++) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            <span class="keywordflow">if</span>(hexDigit &amp; 1) {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                <span class="comment">// Get memory address of set bit taking into account which row of memory is being processed</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                uint32_t configBitIndex = (charIndex &lt;&lt; 2) + bitIndex;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                uint32_t memoryAddress = memoryInitRow * numBitsPerConfig + configBitIndex;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                bitAddresses.push_back(ramBitAddress[memoryAddress]);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;            }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            hexDigit = hexDigit &gt;&gt; 1;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        }</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    }</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a63f23afe56065aa038d5e6559a2449e4">MergeCompressedBitToMainBits</a>(bitAddresses, outBitstream, frameBlocks, wordOffset, block);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;}</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment">// This function is called by Bison parser when a literal is encountered.</span></div>
<div class="line"><a name="l00784"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#a3ceabfa92451fa126dc3e895120bf242">  784</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a3ceabfa92451fa126dc3e895120bf242">PushFrameToStack</a>(<a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> literal) {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordtype">bool</span> debug = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordflow">if</span>(debug) {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;In PushFrameToStack &quot;</span> &lt;&lt; literal &lt;&lt; std::endl;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    std::vector&lt;uint32_t&gt; bitAddresses = <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a85f9e00b8a29802c081b79398eeb7b50">gcurrentConfigBitMap</a>[<a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a2125caacb82549eb574f03cd135e944b">gLUTEquationLeft</a> + <span class="stringliteral">&quot;=&quot;</span> + literal];</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="comment">// We know LUT bits go across 4 frames and effect the same word in each frame</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    std::vector&lt;uint32_t&gt; lutWords(4, 0);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">for</span>(std::vector&lt;uint32_t&gt;::const_iterator bitIter = bitAddresses.begin(); bitIter</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        != bitAddresses.end(); bitIter++) {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        int32_t bitIndex = (*bitIter) &amp; 0x000000FF;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        int32_t frameIndex = (*bitIter) &gt;&gt; 16;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        uint32_t frameWord = 1 &lt;&lt; (bitIndex - 1);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        lutWords[frameIndex - <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ae545cfee0d72d85fe5e1b2125cd1040e">gCurrentReferenceFrameIndex</a>] = lutWords[frameIndex</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            - <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ae545cfee0d72d85fe5e1b2125cd1040e">gCurrentReferenceFrameIndex</a>] | frameWord;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="keywordflow">if</span>(debug) {</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        <span class="keywordflow">for</span>(std::vector&lt;uint32_t&gt;::const_iterator iter = lutWords.begin(); iter != lutWords.end(); iter++) {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;   &quot;</span> &lt;&lt; <a class="code" href="../../df/d66/classtorc_1_1bitstream_1_1Hex32.html">Hex32</a>(*iter);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        }</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        std::cout &lt;&lt; std::endl;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a64d94125800c2dec062d056c9e556a1f">gStackOfFrames</a>.push_back(lutWords);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;}</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div>
<div class="line"><a name="l00817"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#a8df3250db9defebba4e75aa80b6dab7e">  817</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a8df3250db9defebba4e75aa80b6dab7e">DoBinaryOperation</a>(<a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> operation) {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordtype">bool</span> debug = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">if</span>(debug) {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;In DoBinaryOperation &quot;</span> &lt;&lt; operation &lt;&lt; std::endl;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    std::vector&lt;uint32_t&gt; lutWords1 = <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a64d94125800c2dec062d056c9e556a1f">gStackOfFrames</a>.back();</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    std::vector&lt;uint32_t&gt; lutWordsNew;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a64d94125800c2dec062d056c9e556a1f">gStackOfFrames</a>.pop_back();</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    std::vector&lt;uint32_t&gt; lutWords2;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">if</span>(operation == <span class="stringliteral">&quot;OR&quot;</span> || operation == <span class="stringliteral">&quot;AND&quot;</span> || operation == <span class="stringliteral">&quot;XOR&quot;</span>) {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        lutWords2 = <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a64d94125800c2dec062d056c9e556a1f">gStackOfFrames</a>.back();</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a64d94125800c2dec062d056c9e556a1f">gStackOfFrames</a>.pop_back();</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(operation == <span class="stringliteral">&quot;NOT&quot;</span>) {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        lutWords2 = <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a71c2ef5b75e7061aa1f3ed2223e7afc9">gLUTWordsForOne</a>;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Unknown operation &quot;</span> &lt;&lt; operation &lt;&lt; std::endl;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    std::vector&lt;uint32_t&gt;::const_iterator pWord1 = lutWords1.begin();</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    std::vector&lt;uint32_t&gt;::const_iterator eWord1 = lutWords1.end();</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    std::vector&lt;uint32_t&gt;::const_iterator pWord2 = lutWords2.begin();</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    std::vector&lt;uint32_t&gt;::const_iterator eWord2 = lutWords2.end();</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keywordflow">if</span>(operation == <span class="stringliteral">&quot;OR&quot;</span>) {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <span class="keywordflow">while</span>(pWord1 != eWord1 &amp;&amp; pWord2 != eWord2) {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;            lutWordsNew.push_back((*pWord1 | *pWord2));</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;            pWord1++;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            pWord2++;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        }</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(operation == <span class="stringliteral">&quot;AND&quot;</span>) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="keywordflow">while</span>(pWord1 != eWord1) {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            lutWordsNew.push_back((*pWord1 &amp; *pWord2));</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            pWord1++;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            pWord2++;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        }</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(operation == <span class="stringliteral">&quot;XOR&quot;</span> || operation == <span class="stringliteral">&quot;NOT&quot;</span>) {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <span class="keywordflow">while</span>(pWord1 != eWord1) {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            lutWordsNew.push_back((*pWord1 ^ *pWord2));</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            pWord1++;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            pWord2++;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        }</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    }</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keywordflow">if</span>(debug) {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;LUT frames after the logic &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        <span class="keywordflow">for</span>(std::vector&lt;uint32_t&gt;::const_iterator iter = lutWordsNew.begin(); iter</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            != lutWordsNew.end(); iter++) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;   &quot;</span> &lt;&lt; <a class="code" href="../../df/d66/classtorc_1_1bitstream_1_1Hex32.html">Hex32</a>(*iter);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        }</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        std::cout &lt;&lt; std::endl;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    }</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a64d94125800c2dec062d056c9e556a1f">gStackOfFrames</a>.push_back(lutWordsNew);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;}</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">//// Returns true if the site type is supported</span></div>
<div class="line"><a name="l00875"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#a545092a4b96c8e383b26db705f16a133">  875</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a545092a4b96c8e383b26db705f16a133">isSiteTypeSupported</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;siteType) {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keywordflow">return</span> (siteType.compare(<span class="stringliteral">&quot;SLICEL&quot;</span>) == 0 || siteType.compare(<span class="stringliteral">&quot;SLICEM&quot;</span>) == 0 || siteType.compare(</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="stringliteral">&quot;RAMB36_EXP&quot;</span>) == 0 || siteType.compare(<span class="stringliteral">&quot;DSP48E&quot;</span>) == 0);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;}</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment">//// Returns true if the site is some form of RAMB site.</span></div>
<div class="line"><a name="l00881"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#a026bfc43702b6b80c8b19a1d05353a04">  881</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a026bfc43702b6b80c8b19a1d05353a04">isRambSite</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> &amp;siteType) {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">if</span>(siteType.length() &gt; 3) {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        <span class="keywordflow">return</span> siteType.substr(0, 4).compare(<span class="stringliteral">&quot;RAMB&quot;</span>) == 0;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    }</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;}</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div>
<div class="line"><a name="l00888"></a><span class="lineno"><a class="line" href="../../d9/d12/Xdl2Bit_8cpp.html#ac2cfe73f8e07aa3203a787964f3cde07">  888</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a84f574e1f946d923d97edc833ea09664">TiletypeElementMap</a> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ac2cfe73f8e07aa3203a787964f3cde07">populateLibraryMap</a>(<a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a8c1ec704109b2065aaa689653dab645a">boost::filesystem::path</a> libDBPath) {</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a84f574e1f946d923d97edc833ea09664">TiletypeElementMap</a> tileMap;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    std::ifstream libDB(libDBPath.string().c_str(), std::ios::binary);</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="keywordflow">if</span>(!libDB.good()) {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Could not open DB file &quot;</span> &lt;&lt; libDBPath.string() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        libDB.exceptions(std::ios::failbit);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        exit(-1);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Opened DB file &quot;</span> &lt;&lt; libDBPath.string() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordtype">char</span> buffer[1024];</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    libDB.read(buffer, 16);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    buffer[16] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> libDBSanity(buffer);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Sanity string &quot;</span> &lt;&lt; libDBSanity &lt;&lt; std::endl;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keywordflow">if</span>(libDBSanity != <span class="stringliteral">&quot;&lt;&lt;&lt;&lt;BITLIBDB&gt;&gt;&gt;&gt;&quot;</span>) {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;This file seems to be currupt- &quot;</span> &lt;&lt; libDBPath.string() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        exit(-1);</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    }</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    uint32_t tileTypeCount = 0;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    libDB.read((<span class="keywordtype">char</span> *) &amp;tileTypeCount, <span class="keyword">sizeof</span>(uint32_t));</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Tile type count &quot;</span> &lt;&lt; tileTypeCount &lt;&lt; std::endl;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="keywordflow">for</span>(uint32_t tileIndex = 0; tileIndex &lt; tileTypeCount; tileIndex++) {</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        uint32_t tileNameCharCount = 0;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        libDB.read((<span class="keywordtype">char</span> *) &amp;tileNameCharCount, 4);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        libDB.read(buffer, tileNameCharCount);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        buffer[tileNameCharCount] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> tileType(buffer);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        uint32_t elementCount = 0;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        libDB.read((<span class="keywordtype">char</span> *) &amp;elementCount, 4);</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <span class="comment">//      std::cout &lt;&lt; &quot;Tile type &quot; &lt;&lt; tileType &lt;&lt; &quot;. Element count &quot; &lt;&lt; elementCount &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a37784f35dee02de59c8d09057e368044">ElementConfigMap</a> elementMap;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <span class="comment">// Iterate over the elements</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <span class="keywordflow">for</span>(uint32_t elementIndex = 0; elementIndex &lt; elementCount; elementIndex++) {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            <span class="comment">// Get element name char count</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            uint32_t elementCharCount = 0;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            libDB.read((<span class="keywordtype">char</span> *) &amp;elementCharCount, 4);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            libDB.read(buffer, elementCharCount);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            buffer[elementCharCount] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> element(buffer);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            uint32_t configCount = 0;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            libDB.read((<span class="keywordtype">char</span> *) &amp;configCount, 4);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            <span class="comment">//          std::cout &lt;&lt; &quot;   Element &quot; &lt;&lt; element &lt;&lt; &quot;. Config count &quot; &lt;&lt; configCount &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            <a class="code" href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a7e217efb81b655e3dc4616efc287878a">ConfigBitMap</a> configMap;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;            <span class="comment">// Iterate over configs</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;            <span class="keywordflow">for</span>(uint32_t configIndex = 0; configIndex &lt; configCount; configIndex++) {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                uint32_t configCharCount = 0;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                libDB.read((<span class="keywordtype">char</span> *) &amp;configCharCount, 4);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                <span class="comment">//              std::cout &lt;&lt; &quot;\tConfig char count &quot; &lt;&lt; configCharCount;</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                libDB.read(buffer, configCharCount);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                buffer[configCharCount] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> config(buffer);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                <span class="comment">//              std::cout &lt;&lt; &quot;\t&quot; &lt;&lt; config &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                <span class="comment">// Read the compressed word count</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                uint32_t wordCount = 0;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                libDB.read((<span class="keywordtype">char</span> *) &amp;wordCount, 4);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                std::vector&lt;uint32_t&gt; words;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                uint32_t word;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                <span class="keywordflow">for</span>(uint32_t i = 0; i &lt; wordCount; i++) {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                    libDB.read((<span class="keywordtype">char</span> *) &amp;word, 4);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                    words.push_back(word);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                }</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                configMap[config] = words;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;            }</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            elementMap[element] = configMap;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        }</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        tileMap[tileType] = elementMap;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    }</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordflow">return</span> tileMap;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;}</div>
<div class="ttc" id="build_2SharedFunctions_8cpp_html_a513d3189064c1fdd9dd66f5bcede1f08"><div class="ttname"><a href="../../da/de3/build_2SharedFunctions_8cpp.html#a513d3189064c1fdd9dd66f5bcede1f08">kConfigOff</a></div><div class="ttdeci">const std::string kConfigOff</div><div class="ttdef"><b>Definition:</b> <a href="../../da/de3/build_2SharedFunctions_8cpp_source.html#l00013">build/SharedFunctions.cpp:13</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Virtex5_html_a9ef37b13bc698ee756a292c3aa7d74dd"><div class="ttname"><a href="../../dd/d9a/classtorc_1_1bitstream_1_1Virtex5.html#a9ef37b13bc698ee756a292c3aa7d74dd">torc::bitstream::Virtex5::initializeFrameMaps</a></div><div class="ttdeci">virtual void initializeFrameMaps(void)</div><div class="ttdoc">Initialize the maps between frame indexes and frame addresses. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/def/Virtex5_8cpp_source.html#l00528">Virtex5.cpp:528</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a63f23afe56065aa038d5e6559a2449e4"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a63f23afe56065aa038d5e6559a2449e4">MergeCompressedBitToMainBits</a></div><div class="ttdeci">void MergeCompressedBitToMainBits(const std::vector&lt; uint32_t &gt; &amp;bitAddresses, Bitstream &amp;outBitstream, VirtexFrameBlocks &amp;frameBlocks, uint32_t wordOffset, uint32_t blockIndex=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00518">Xdl2Bit.cpp:518</a></div></div>
<div class="ttc" id="structtorc_1_1architecture_1_1xilinx_1_1TileIndex_html"><div class="ttname"><a href="../../de/da8/structtorc_1_1architecture_1_1xilinx_1_1TileIndex.html">torc::architecture::xilinx::TileIndex</a></div><div class="ttdoc">Encapsulation of a tile index in an unsigned 32-bit integer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1b/XilinxDatabaseTypes_8hpp_source.html#l00068">XilinxDatabaseTypes.hpp:68</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1TileInfo_html_ae145afababcbd401dbc866188f1008ce"><div class="ttname"><a href="../../d0/d83/classtorc_1_1architecture_1_1TileInfo.html#ae145afababcbd401dbc866188f1008ce">torc::architecture::TileInfo::getCol</a></div><div class="ttdeci">const TileCol &amp; getCol(void) const </div><div class="ttdoc">Returns the column for this tile. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0b/TileInfo_8hpp_source.html#l00096">TileInfo.hpp:96</a></div></div>
<div class="ttc" id="structtorc_1_1architecture_1_1xilinx_1_1TileRow_html"><div class="ttname"><a href="../../d8/d45/structtorc_1_1architecture_1_1xilinx_1_1TileRow.html">torc::architecture::xilinx::TileRow</a></div><div class="ttdoc">Encapsulation of a tile row in an unsigned 16-bit integer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1b/XilinxDatabaseTypes_8hpp_source.html#l00087">XilinxDatabaseTypes.hpp:87</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a64d94125800c2dec062d056c9e556a1f"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a64d94125800c2dec062d056c9e556a1f">gStackOfFrames</a></div><div class="ttdeci">static vector&lt; vector&lt; uint32_t &gt; &gt; gStackOfFrames</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00036">Xdl2Bit.cpp:36</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1TileInfo_html_a03aca096f150d01eecd07f159578a48a"><div class="ttname"><a href="../../d0/d83/classtorc_1_1architecture_1_1TileInfo.html#a03aca096f150d01eecd07f159578a48a">torc::architecture::TileInfo::getRow</a></div><div class="ttdeci">const TileRow &amp; getRow(void) const </div><div class="ttdoc">Returns the row for this tile. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0b/TileInfo_8hpp_source.html#l00094">TileInfo.hpp:94</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_ad6304506c423b4c5c3285017109d4701"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#ad6304506c423b4c5c3285017109d4701">assembleInstances</a></div><div class="ttdeci">void assembleInstances(DesignSharedPtr inDesignPtr, Bitstream &amp;outBitstream, const Sites &amp;sites, const Tiles &amp;tiles, TiletypeElementMap &amp;library)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00247">Xdl2Bit.cpp:247</a></div></div>
<div class="ttc" id="structtorc_1_1architecture_1_1xilinx_1_1TileCol_html"><div class="ttname"><a href="../../d9/deb/structtorc_1_1architecture_1_1xilinx_1_1TileCol.html">torc::architecture::xilinx::TileCol</a></div><div class="ttdoc">Encapsulation of a tile column in an unsigned 16-bit integer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1b/XilinxDatabaseTypes_8hpp_source.html#l00094">XilinxDatabaseTypes.hpp:94</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_aac5fe844b05806043c42bd11d962e2d3"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#aac5fe844b05806043c42bd11d962e2d3">mergeDspMaskOrPattern</a></div><div class="ttdeci">void mergeDspMaskOrPattern(std::string elementName, std::string configVal, InstanceSharedPtr instancePtr, const ElementConfigMap &amp;elementMap, VirtexFrameBlocks &amp;frameBlocks, uint32_t wordOffset, Bitstream &amp;outBitstream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00725">Xdl2Bit.cpp:725</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_aaefb46a5fbc0ab62cd830dd0844168a9"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#aaefb46a5fbc0ab62cd830dd0844168a9">siteExistsInLibrary</a></div><div class="ttdeci">bool siteExistsInLibrary(const std::string &amp;siteType, TiletypeElementMap &amp;library)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00116">Xdl2Bit.cpp:116</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1DDB_html"><div class="ttname"><a href="../../d6/d22/classtorc_1_1architecture_1_1DDB.html">torc::architecture::DDB</a></div><div class="ttdoc">Device database, including complete wiring and logic support. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d5d/DDB_8hpp_source.html#l00042">DDB.hpp:42</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a2125caacb82549eb574f03cd135e944b"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a2125caacb82549eb574f03cd135e944b">gLUTEquationLeft</a></div><div class="ttdeci">static std::string gLUTEquationLeft</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00042">Xdl2Bit.cpp:42</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a85f9e00b8a29802c081b79398eeb7b50"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a85f9e00b8a29802c081b79398eeb7b50">gcurrentConfigBitMap</a></div><div class="ttdeci">static ConfigBitMap gcurrentConfigBitMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00041">Xdl2Bit.cpp:41</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1FrameBlocks_html"><div class="ttname"><a href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html">torc::bitstream::FrameBlocks&lt; VirtexFrame &gt;</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1DDB_html_a362c8b64ff9cce6a41fa29745f760101"><div class="ttname"><a href="../../d6/d22/classtorc_1_1architecture_1_1DDB.html#a362c8b64ff9cce6a41fa29745f760101">torc::architecture::DDB::getFamilyName</a></div><div class="ttdeci">const string &amp; getFamilyName(void) const </div><div class="ttdoc">Returns the family name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d5d/DDB_8hpp_source.html#l00134">DDB.hpp:134</a></div></div>
<div class="ttc" id="Virtex5PrimitiveStructure_8hpp_html"><div class="ttname"><a href="../../dc/d87/Virtex5PrimitiveStructure_8hpp.html">Virtex5PrimitiveStructure.hpp</a></div><div class="ttdoc">Header for the Virtex5PrimitiveStructure class. </div></div>
<div class="ttc" id="classtorc_1_1physical_1_1XdlImporter_html_ac9c8c474aaa38744850a967ebbfd3c7e"><div class="ttname"><a href="../../d1/d1c/classtorc_1_1physical_1_1XdlImporter.html#ac9c8c474aaa38744850a967ebbfd3c7e">torc::physical::XdlImporter::getDesignPtr</a></div><div class="ttdeci">DesignSharedPtr getDesignPtr(void)</div><div class="ttdoc">Returns a shared pointer for the design. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0e/physical_2XdlImporter_8hpp_source.html#l00143">physical/XdlImporter.hpp:143</a></div></div>
<div class="ttc" id="DirectoryTree_8hpp_html"><div class="ttname"><a href="../../dd/db7/DirectoryTree_8hpp.html">DirectoryTree.hpp</a></div><div class="ttdoc">Header for the DirectoryTree class. </div></div>
<div class="ttc" id="classtorc_1_1physical_1_1Net_html_a95954f476447102e19f7f50f92a3d780"><div class="ttname"><a href="../../d4/d20/classtorc_1_1physical_1_1Net.html#a95954f476447102e19f7f50f92a3d780">torc::physical::Net::PipConstIterator</a></div><div class="ttdeci">PipVector::const_iterator PipConstIterator</div><div class="ttdoc">Constant iterator to Pip objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d67/physical_2Net_8hpp_source.html#l00073">physical/Net.hpp:73</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1DDB_html_ad0b7f6d2bdd6750089c8e24e467d9151"><div class="ttname"><a href="../../d6/d22/classtorc_1_1architecture_1_1DDB.html#ad0b7f6d2bdd6750089c8e24e467d9151">torc::architecture::DDB::getTiles</a></div><div class="ttdeci">const Tiles &amp; getTiles(void) const </div><div class="ttdoc">Returns a constant reference to the family and device tile data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d5d/DDB_8hpp_source.html#l00146">DDB.hpp:146</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1Tiles_html_a62816b62b67b01034e660ed89a6f0d99"><div class="ttname"><a href="../../d8/dc4/classtorc_1_1architecture_1_1Tiles.html#a62816b62b67b01034e660ed89a6f0d99">torc::architecture::Tiles::getTileInfo</a></div><div class="ttdeci">const TileInfo &amp; getTileInfo(TileIndex inTileIndex) const </div><div class="ttdoc">Returns the TileInfo object for the specified tile. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de0/Tiles_8hpp_source.html#l00137">Tiles.hpp:137</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Hex32_html"><div class="ttname"><a href="../../df/d66/classtorc_1_1bitstream_1_1Hex32.html">torc::bitstream::Hex32</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d64/bitstream_2OutputStreamHelpers_8hpp_source.html#l00069">bitstream/OutputStreamHelpers.hpp:69</a></div></div>
<div class="ttc" id="Bitstream_8hpp_html"><div class="ttname"><a href="../../dc/d77/Bitstream_8hpp.html">Bitstream.hpp</a></div><div class="ttdoc">Main torc::bitstream namespace header. </div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_ab5c8b6632acf2b4741268412b453dafa"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#ab5c8b6632acf2b4741268412b453dafa">gCUrrentReferenceWordIndex</a></div><div class="ttdeci">static uint32_t gCUrrentReferenceWordIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00038">Xdl2Bit.cpp:38</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a73b44d26286730d2c741a0c4cbdeb303"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a73b44d26286730d2c741a0c4cbdeb303">assembleNets</a></div><div class="ttdeci">void assembleNets(DesignSharedPtr inDesignPtr, Bitstream &amp;outBitstream, const Sites &amp;sites, const Tiles &amp;tiles, TiletypeElementMap &amp;library)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00418">Xdl2Bit.cpp:418</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Bitstream_html_a66ddeb303a05dc08f1872966be8fd614"><div class="ttname"><a href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html#a66ddeb303a05dc08f1872966be8fd614">torc::bitstream::Bitstream::getDeviceName</a></div><div class="ttdeci">const string &amp; getDeviceName(void) const </div><div class="ttdoc">Return the device name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/bitstream_2Bitstream_8hpp_source.html#l00333">bitstream/Bitstream.hpp:333</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_af5394c153db17bbec6ee4ca45ec276ea"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#af5394c153db17bbec6ee4ca45ec276ea">convertXdlToBitstream</a></div><div class="ttdeci">void convertXdlToBitstream(DesignSharedPtr inDesignPtr, Bitstream &amp;outBitstream, const Sites &amp;sites, const Tiles &amp;tiles, TiletypeElementMap &amp;library)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00230">Xdl2Bit.cpp:230</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a5f7c2023bd81037f141ea023410c130b"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a5f7c2023bd81037f141ea023410c130b">isMemoryParityInitSetting</a></div><div class="ttdeci">bool isMemoryParityInitSetting(const std::string &amp;configName)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00112">Xdl2Bit.cpp:112</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_ab0c649ca250a8b9d7c6b4fcb2e94b87f"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#ab0c649ca250a8b9d7c6b4fcb2e94b87f">mergeRambInitBits</a></div><div class="ttdeci">void mergeRambInitBits(const std::string &amp;configVal, uint32_t memoryInitRow, Bitstream &amp;outBitstream, VirtexFrameBlocks &amp;frameBlocks, uint32_t wordOffset, const vector&lt; uint32_t &gt; &amp;bitAddresses, uint32_t block)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00753">Xdl2Bit.cpp:753</a></div></div>
<div class="ttc" id="build_2SharedFunctions_8cpp_html_abf766b95f4ef8ccf67f3c7414f426bff"><div class="ttname"><a href="../../da/de3/build_2SharedFunctions_8cpp.html#abf766b95f4ef8ccf67f3c7414f426bff">InitializeCompoundSettingsMap</a></div><div class="ttdeci">void InitializeCompoundSettingsMap()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/de3/build_2SharedFunctions_8cpp_source.html#l00038">build/SharedFunctions.cpp:38</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a8df3250db9defebba4e75aa80b6dab7e"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a8df3250db9defebba4e75aa80b6dab7e">DoBinaryOperation</a></div><div class="ttdeci">void DoBinaryOperation(std::string operation)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00817">Xdl2Bit.cpp:817</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1DDB_html_ae17cc2209dfbec5367d9725940268028"><div class="ttname"><a href="../../d6/d22/classtorc_1_1architecture_1_1DDB.html#ae17cc2209dfbec5367d9725940268028">torc::architecture::DDB::getSites</a></div><div class="ttdeci">const Sites &amp; getSites(void) const </div><div class="ttdoc">Returns a constant reference to the family and device site data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d5d/DDB_8hpp_source.html#l00144">DDB.hpp:144</a></div></div>
<div class="ttc" id="build_2SharedFunctions_8cpp_html_ae398806f4ae6b7661e83c6fe30f81526"><div class="ttname"><a href="../../da/de3/build_2SharedFunctions_8cpp.html#ae398806f4ae6b7661e83c6fe30f81526">DSPMaskOrPatternConfig</a></div><div class="ttdeci">bool DSPMaskOrPatternConfig(const std::string &amp;siteType, const std::string &amp;elementName)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/de3/build_2SharedFunctions_8cpp_source.html#l00028">build/SharedFunctions.cpp:28</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a8408e741933a976c5cf1c1142e2267a4"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a8408e741933a976c5cf1c1142e2267a4">mergeCompoundSettingBits</a></div><div class="ttdeci">void mergeCompoundSettingBits(std::string element1Name, std::string config1Val, InstanceSharedPtr instancePtr, const ElementConfigMap &amp;elementMap, VirtexFrameBlocks &amp;frameBlocks, uint32_t wordOffset, Bitstream &amp;outBitstream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00686">Xdl2Bit.cpp:686</a></div></div>
<div class="ttc" id="namespacetorc_1_1bitstream_html_a904e1ef41f9863a1a12b0dc842115714"><div class="ttname"><a href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">torc::bitstream::string</a></div><div class="ttdeci">std::string string</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/LibGenFactory_8hpp_source.html#l00035">LibGenFactory.hpp:35</a></div></div>
<div class="ttc" id="classtorc_1_1physical_1_1ConfigMap_html_ad587f0db6f734f07dfeadbf1e61ea686"><div class="ttname"><a href="../../dc/d33/classtorc_1_1physical_1_1ConfigMap.html#ad587f0db6f734f07dfeadbf1e61ea686">torc::physical::ConfigMap::const_iterator</a></div><div class="ttdeci">const_iterator const_iterator</div><div class="ttdoc">Constant iterator to {setting,Config} pairs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/ConfigMap_8hpp_source.html#l00052">ConfigMap.hpp:52</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Virtex5_html"><div class="ttname"><a href="../../dd/d9a/classtorc_1_1bitstream_1_1Virtex5.html">torc::bitstream::Virtex5</a></div><div class="ttdoc">Virtex5 bitstream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d35/Virtex5_8hpp_source.html#l00041">Virtex5.hpp:41</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Bitstream_html_abd14abbc9882c6087657d60ec361f48d"><div class="ttname"><a href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html#abd14abbc9882c6087657d60ec361f48d">torc::bitstream::Bitstream::setDesignName</a></div><div class="ttdeci">void setDesignName(const string &amp;inDesignName)</div><div class="ttdoc">Set the design name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/bitstream_2Bitstream_8hpp_source.html#l00323">bitstream/Bitstream.hpp:323</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a2fb65c6139c9c19441fe873b237ff916"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a2fb65c6139c9c19441fe873b237ff916">isMemoryInitSetting</a></div><div class="ttdeci">bool isMemoryInitSetting(const std::string &amp;configName)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00108">Xdl2Bit.cpp:108</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_ae545cfee0d72d85fe5e1b2125cd1040e"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#ae545cfee0d72d85fe5e1b2125cd1040e">gCurrentReferenceFrameIndex</a></div><div class="ttdeci">static uint32_t gCurrentReferenceFrameIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00037">Xdl2Bit.cpp:37</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Bitstream_html"><div class="ttname"><a href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html">torc::bitstream::Bitstream</a></div><div class="ttdoc">Xilinx bitstream base class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/bitstream_2Bitstream_8hpp_source.html#l00040">bitstream/Bitstream.hpp:40</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_aee41ce2e2c5a5987ac9d395f38335214"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#aee41ce2e2c5a5987ac9d395f38335214">GetFrameBlocksFromTileIndex</a></div><div class="ttdeci">VirtexFrameBlocks GetFrameBlocksFromTileIndex(Bitstream &amp;inBitstream, TileIndex tileIndex, const Tiles &amp;tiles, uint32_t &amp;outWordOffset)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00470">Xdl2Bit.cpp:470</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1Site_html"><div class="ttname"><a href="../../da/dd8/classtorc_1_1architecture_1_1Site.html">torc::architecture::Site</a></div><div class="ttdoc">Encapsulation of a device logic site. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd0/Site_8hpp_source.html#l00030">Site.hpp:30</a></div></div>
<div class="ttc" id="Physical_8hpp_html"><div class="ttname"><a href="../../d5/d71/Physical_8hpp.html">Physical.hpp</a></div><div class="ttdoc">Main torc::physical namespace header. </div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1Sites_html"><div class="ttname"><a href="../../db/db7/classtorc_1_1architecture_1_1Sites.html">torc::architecture::Sites</a></div><div class="ttdoc">Site type and population data for the family and the device. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d7f/Sites_8hpp_source.html#l00045">Sites.hpp:45</a></div></div>
<div class="ttc" id="LibraryDatabaseStitch_8hpp_html_a7e217efb81b655e3dc4616efc287878a"><div class="ttname"><a href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a7e217efb81b655e3dc4616efc287878a">ConfigBitMap</a></div><div class="ttdeci">std::map&lt; const std::string, std::vector&lt; uint32_t &gt; &gt; ConfigBitMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc0/LibraryDatabaseStitch_8hpp_source.html#l00015">LibraryDatabaseStitch.hpp:15</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a3c04138a5bfe5d72780bb7e82a18e627"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a></div><div class="ttdeci">int main(int argc, char **argv)</div><div class="ttdoc">Converts XDL file to bitstream by merging primitive bitstreams from library. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00139">Xdl2Bit.cpp:139</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a68dec44f26388501662acaccedcc52b7"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a68dec44f26388501662acaccedcc52b7">assembleRambInstance</a></div><div class="ttdeci">void assembleRambInstance(InstanceSharedPtr instance, Bitstream &amp;outBitstream, VirtexFrameBlocks &amp;frameBlocks, uint32_t wordOffset, TiletypeElementMap &amp;library)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00328">Xdl2Bit.cpp:328</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1Tiles_html"><div class="ttname"><a href="../../d8/dc4/classtorc_1_1architecture_1_1Tiles.html">torc::architecture::Tiles</a></div><div class="ttdoc">Tile map, tile type, and wire information for the family and device. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de0/Tiles_8hpp_source.html#l00036">Tiles.hpp:36</a></div></div>
<div class="ttc" id="classtorc_1_1common_1_1DirectoryTree_html"><div class="ttname"><a href="../../d4/da0/classtorc_1_1common_1_1DirectoryTree.html">torc::common::DirectoryTree</a></div><div class="ttdoc">Encapsulation of filesystem paths that are used by the library. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db7/DirectoryTree_8hpp_source.html#l00028">DirectoryTree.hpp:28</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Virtex5_html_a28722839246b11adec4a0c43d2141f92"><div class="ttname"><a href="../../dd/d9a/classtorc_1_1bitstream_1_1Virtex5.html#a28722839246b11adec4a0c43d2141f92">torc::bitstream::Virtex5::updateFullFrameBlocks</a></div><div class="ttdeci">DEPRECATED void updateFullFrameBlocks(void)</div><div class="ttdoc">Transfers frame block data into the full bitstream frame packet. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/def/Virtex5_8cpp_source.html#l01025">Virtex5.cpp:1025</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1FrameBlocks_html_ab0fa7be73d1d39a854a3cda98059d1f0"><div class="ttname"><a href="../../db/d61/classtorc_1_1bitstream_1_1FrameBlocks.html#ab0fa7be73d1d39a854a3cda98059d1f0">torc::bitstream::FrameBlocks::mBlock</a></div><div class="ttdeci">FrameSet&lt; FRAME_TYPE &gt; mBlock[Bitstream::eBlockTypeCount]</div><div class="ttdoc">FrameSets for each of the eight block types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc4/FrameSet_8hpp_source.html#l00088">FrameSet.hpp:88</a></div></div>
<div class="ttc" id="SharedFunctions_8hpp_html"><div class="ttname"><a href="../../d2/db7/SharedFunctions_8hpp.html">SharedFunctions.hpp</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1TileInfo_html"><div class="ttname"><a href="../../d0/d83/classtorc_1_1architecture_1_1TileInfo.html">torc::architecture::TileInfo</a></div><div class="ttdoc">Encapsulation of a tile within a device tile map. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0b/TileInfo_8hpp_source.html#l00033">TileInfo.hpp:33</a></div></div>
<div class="ttc" id="namespacetorc_1_1physical_html_a5ae9fcfb9cf8228f052b7412796418f6"><div class="ttname"><a href="../../de/d76/namespacetorc_1_1physical.html#a5ae9fcfb9cf8228f052b7412796418f6">torc::physical::NetSharedPtr</a></div><div class="ttdeci">boost::shared_ptr&lt; Net &gt; NetSharedPtr</div><div class="ttdoc">Shared pointer encapsulation of a Net. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d67/physical_2Net_8hpp_source.html#l00229">physical/Net.hpp:229</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a71c2ef5b75e7061aa1f3ed2223e7afc9"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a71c2ef5b75e7061aa1f3ed2223e7afc9">gLUTWordsForOne</a></div><div class="ttdeci">static std::vector&lt; uint32_t &gt; gLUTWordsForOne(4, 0xFFFFFFFF)</div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1Tiles_html_a757fd51b26c683f1b63ed7c10b8020a6"><div class="ttname"><a href="../../d8/dc4/classtorc_1_1architecture_1_1Tiles.html#a757fd51b26c683f1b63ed7c10b8020a6">torc::architecture::Tiles::getTileTypeName</a></div><div class="ttdeci">const char * getTileTypeName(TileTypeIndex inTileTypeIndex) const </div><div class="ttdoc">Returns the tile type name for the given tile type index. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de0/Tiles_8hpp_source.html#l00164">Tiles.hpp:164</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a3f41a826de87be1000f38529fec345ac"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a3f41a826de87be1000f38529fec345ac">mergeLutBits</a></div><div class="ttdeci">void mergeLutBits(const std::string &amp;elementName, const std::string &amp;configValue, Bitstream &amp;outBitstream, VirtexFrameBlocks &amp;frameBlocks, uint32_t wordOffset, ElementConfigMap &amp;elementMap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00551">Xdl2Bit.cpp:551</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1Sites_html_ae9dfdb8efa0e1268d2ddd744dc907375"><div class="ttname"><a href="../../db/db7/classtorc_1_1architecture_1_1Sites.html#ae9dfdb8efa0e1268d2ddd744dc907375">torc::architecture::Sites::findSiteIndex</a></div><div class="ttdeci">SiteIndex findSiteIndex(const string &amp;inName) const </div><div class="ttdoc">Returns the site index for the given site name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d7f/Sites_8hpp_source.html#l00134">Sites.hpp:134</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1Site_html_aa6161f227602b45ee6775d161c94ad2d"><div class="ttname"><a href="../../da/dd8/classtorc_1_1architecture_1_1Site.html#aa6161f227602b45ee6775d161c94ad2d">torc::architecture::Site::getTileIndex</a></div><div class="ttdeci">TileIndex getTileIndex(void) const </div><div class="ttdoc">Returns the index of the containing tile. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd0/Site_8hpp_source.html#l00083">Site.hpp:83</a></div></div>
<div class="ttc" id="namespacetorc_1_1bitstream_html_a8c1ec704109b2065aaa689653dab645a"><div class="ttname"><a href="../../d6/d7e/namespacetorc_1_1bitstream.html#a8c1ec704109b2065aaa689653dab645a">torc::bitstream::path</a></div><div class="ttdeci">boost::filesystem::path path</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/LibGenFactory_8hpp_source.html#l00036">LibGenFactory.hpp:36</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1TileInfo_html_a3929d1b6b85ec182fccfc88eef0203b7"><div class="ttname"><a href="../../d0/d83/classtorc_1_1architecture_1_1TileInfo.html#a3929d1b6b85ec182fccfc88eef0203b7">torc::architecture::TileInfo::getTypeIndex</a></div><div class="ttdeci">const TileTypeIndex &amp; getTypeIndex(void) const </div><div class="ttdoc">Returns the tile type index for this tile. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0b/TileInfo_8hpp_source.html#l00092">TileInfo.hpp:92</a></div></div>
<div class="ttc" id="namespacetorc_1_1physical_html_a10b411a1f414a79691ee3abbd4aa8a41"><div class="ttname"><a href="../../de/d76/namespacetorc_1_1physical.html#a10b411a1f414a79691ee3abbd4aa8a41">torc::physical::InstanceSharedPtr</a></div><div class="ttdeci">boost::shared_ptr&lt; Instance &gt; InstanceSharedPtr</div><div class="ttdoc">Shared pointer encapsulation of an Instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/db1/physical_2Instance_8hpp_source.html#l00188">physical/Instance.hpp:188</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Virtex5_html_a32f835da769c672ea933a03fdc34c970"><div class="ttname"><a href="../../dd/d9a/classtorc_1_1bitstream_1_1Virtex5.html#a32f835da769c672ea933a03fdc34c970">torc::bitstream::Virtex5::getXdlFrames</a></div><div class="ttdeci">VirtexFrameBlocks getXdlFrames(uint32_t inXdlRow, uint32_t inXdlCol, uint32_t &amp;outBeginBit, uint32_t &amp;outEndBit, uint32_t inBlockCount=eBlockTypeCount)</div><div class="ttdoc">Returns frames for specified XDL tile coordinates.  inXldRow The XDL row coordinate.  inXdlCol The XDL column coordinate.  outBeginBit The bit index of the beginning of the requested tile.  outEndBit The bit index of the end of the requested tile.  inBlockCount The highest block type requested (8 for Xilinx architectures). </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/def/Virtex5_8cpp_source.html#l01091">Virtex5.cpp:1091</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a9cb00f66f3601e31c679c36a3011f923"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a9cb00f66f3601e31c679c36a3011f923">mergeLutRamOrRomBits</a></div><div class="ttdeci">void mergeLutRamOrRomBits(const std::string &amp;elementName, const std::string &amp;configVal, Bitstream &amp;outBitstream, VirtexFrameBlocks &amp;frameBlocks, uint32_t wordOffset, TiletypeElementMap &amp;library)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00628">Xdl2Bit.cpp:628</a></div></div>
<div class="ttc" id="namespacetorc_1_1physical_html_a0d673321363a5e426cf2d160319bb4c2"><div class="ttname"><a href="../../de/d76/namespacetorc_1_1physical.html#a0d673321363a5e426cf2d160319bb4c2">torc::physical::DesignSharedPtr</a></div><div class="ttdeci">boost::shared_ptr&lt; Design &gt; DesignSharedPtr</div><div class="ttdoc">Shared pointer encapsulation of a Design. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dfe/physical_2Design_8hpp_source.html#l00134">physical/Design.hpp:134</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1Sites_html_adb80b2161c0ca2059c99a1ef491b9024"><div class="ttname"><a href="../../db/db7/classtorc_1_1architecture_1_1Sites.html#adb80b2161c0ca2059c99a1ef491b9024">torc::architecture::Sites::getSite</a></div><div class="ttdeci">const Site &amp; getSite(SiteIndex inSiteIndex) const </div><div class="ttdoc">Returns the site for the specified index. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d7f/Sites_8hpp_source.html#l00129">Sites.hpp:129</a></div></div>
<div class="ttc" id="LibraryDatabaseStitch_8hpp_html_a84f574e1f946d923d97edc833ea09664"><div class="ttname"><a href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a84f574e1f946d923d97edc833ea09664">TiletypeElementMap</a></div><div class="ttdeci">std::map&lt; const std::string, ElementConfigMap &gt; TiletypeElementMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc0/LibraryDatabaseStitch_8hpp_source.html#l00017">LibraryDatabaseStitch.hpp:17</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1Tiles_html_ab3eeb3d38f25c4b394ad27b802f1155d"><div class="ttname"><a href="../../d8/dc4/classtorc_1_1architecture_1_1Tiles.html#ab3eeb3d38f25c4b394ad27b802f1155d">torc::architecture::Tiles::findTileIndex</a></div><div class="ttdeci">TileIndex findTileIndex(const string &amp;inName) const </div><div class="ttdoc">Returns the tile index for the given tile name. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de0/Tiles_8hpp_source.html#l00170">Tiles.hpp:170</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a3ceabfa92451fa126dc3e895120bf242"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a3ceabfa92451fa126dc3e895120bf242">PushFrameToStack</a></div><div class="ttdeci">void PushFrameToStack(std::string literal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00784">Xdl2Bit.cpp:784</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a9bf6e309c72cf92c5a12a988e6d3c56d"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a9bf6e309c72cf92c5a12a988e6d3c56d">isLutRamOrRomSetting</a></div><div class="ttdeci">bool isLutRamOrRomSetting(const std::string &amp;configVal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00104">Xdl2Bit.cpp:104</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Virtex5_html_ad84a52b96885ee0df3f793b26aaa8b1e"><div class="ttname"><a href="../../dd/d9a/classtorc_1_1bitstream_1_1Virtex5.html#ad84a52b96885ee0df3f793b26aaa8b1e">torc::bitstream::Virtex5::initializeFullFrameBlocks</a></div><div class="ttdeci">DEPRECATED void initializeFullFrameBlocks(void)</div><div class="ttdoc">Loads full bitstream frames into block data structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/def/Virtex5_8cpp_source.html#l01004">Virtex5.cpp:1004</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Bitstream_html_a0d18e6dad16501861c5f983b10464194"><div class="ttname"><a href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html#a0d18e6dad16501861c5f983b10464194">torc::bitstream::Bitstream::write</a></div><div class="ttdeci">void write(std::ostream &amp;inStream, uint8_t inVal)</div><div class="ttdoc">Write a uint8_t to the stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/bitstream_2Bitstream_8hpp_source.html#l00067">bitstream/Bitstream.hpp:67</a></div></div>
<div class="ttc" id="build_2SharedFunctions_8cpp_html_a46f65f74df335c2429e6744c20816495"><div class="ttname"><a href="../../da/de3/build_2SharedFunctions_8cpp.html#a46f65f74df335c2429e6744c20816495">gCompoundSettingsMap</a></div><div class="ttdeci">CompoundSettingMap gCompoundSettingsMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/de3/build_2SharedFunctions_8cpp_source.html#l00010">build/SharedFunctions.cpp:10</a></div></div>
<div class="ttc" id="namespacetorc_1_1bitstream_html_af7dea325fc61fbd3d610023ed2eac035"><div class="ttname"><a href="../../d6/d7e/namespacetorc_1_1bitstream.html#af7dea325fc61fbd3d610023ed2eac035">torc::bitstream::VirtexFrameSharedPtr</a></div><div class="ttdeci">boost::shared_ptr&lt; VirtexFrame &gt; VirtexFrameSharedPtr</div><div class="ttdoc">Virtex frame type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dae/Frame_8hpp_source.html#l00108">Frame.hpp:108</a></div></div>
<div class="ttc" id="structtorc_1_1architecture_1_1xilinx_1_1SiteIndex_html"><div class="ttname"><a href="../../db/dd9/structtorc_1_1architecture_1_1xilinx_1_1SiteIndex.html">torc::architecture::xilinx::SiteIndex</a></div><div class="ttdoc">Encapsulation of a site index in an unsigned 32-bit integer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1b/XilinxDatabaseTypes_8hpp_source.html#l00160">XilinxDatabaseTypes.hpp:160</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a545092a4b96c8e383b26db705f16a133"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a545092a4b96c8e383b26db705f16a133">isSiteTypeSupported</a></div><div class="ttdeci">bool isSiteTypeSupported(const std::string &amp;siteType)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00875">Xdl2Bit.cpp:875</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a026bfc43702b6b80c8b19a1d05353a04"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a026bfc43702b6b80c8b19a1d05353a04">isRambSite</a></div><div class="ttdeci">bool isRambSite(const std::string &amp;siteType)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00881">Xdl2Bit.cpp:881</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1TileInfo_html_a47f66c745c2abf956a03b246dd55b363"><div class="ttname"><a href="../../d0/d83/classtorc_1_1architecture_1_1TileInfo.html#a47f66c745c2abf956a03b246dd55b363">torc::architecture::TileInfo::getName</a></div><div class="ttdeci">const char * getName(void) const </div><div class="ttdoc">Returns the name for this tile. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0b/TileInfo_8hpp_source.html#l00098">TileInfo.hpp:98</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_aa9d765ccfdb90052eb82cbcf64c91f8e"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#aa9d765ccfdb90052eb82cbcf64c91f8e">isLutEquationSetting</a></div><div class="ttdeci">bool isLutEquationSetting(const std::string &amp;configValue)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00100">Xdl2Bit.cpp:100</a></div></div>
<div class="ttc" id="DDB_8hpp_html"><div class="ttname"><a href="../../d1/d5d/DDB_8hpp.html">DDB.hpp</a></div><div class="ttdoc">Header for the DDB class. </div></div>
<div class="ttc" id="classtorc_1_1physical_1_1XdlImporter_html"><div class="ttname"><a href="../../d1/d1c/classtorc_1_1physical_1_1XdlImporter.html">torc::physical::XdlImporter</a></div><div class="ttdoc">Importer from XDL format into a physical design. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0e/physical_2XdlImporter_8hpp_source.html#l00048">physical/XdlImporter.hpp:48</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a27c41d0999d3ddd7e5b963f098c4d526"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a27c41d0999d3ddd7e5b963f098c4d526">elementAndConfigExistInLibrary</a></div><div class="ttdeci">bool elementAndConfigExistInLibrary(const std::string &amp;elementName, const std::string &amp;configValue, ElementConfigMap &amp;elementMap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00121">Xdl2Bit.cpp:121</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a6e0095201e3a61112e9750279c99859e"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a6e0095201e3a61112e9750279c99859e">GetFrameBlocksFromSiteName</a></div><div class="ttdeci">VirtexFrameBlocks GetFrameBlocksFromSiteName(Bitstream &amp;inBitstream, const std::string &amp;siteName, const Sites &amp;sites, const Tiles &amp;tiles, uint32_t &amp;outWordOffset)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00458">Xdl2Bit.cpp:458</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Bitstream_html_a1e9c8025e87e1fea15a48c68058e8cf0"><div class="ttname"><a href="../../d4/d45/classtorc_1_1bitstream_1_1Bitstream.html#a1e9c8025e87e1fea15a48c68058e8cf0">torc::bitstream::Bitstream::read</a></div><div class="ttdeci">virtual void read(std::istream &amp;inStream, bool inCleanDateAndTime=true)</div><div class="ttdoc">Read the bitstream header and packets from a stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/bitstream_2Bitstream_8hpp_source.html#l00266">bitstream/Bitstream.hpp:266</a></div></div>
<div class="ttc" id="SharedFunctions_8cpp_html_accff214971f410c2bac18cf6db5ce45b"><div class="ttname"><a href="../../de/dea/SharedFunctions_8cpp.html#accff214971f410c2bac18cf6db5ce45b">elementNeedsCompoundSetting</a></div><div class="ttdeci">bool elementNeedsCompoundSetting(std::string elementName)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dea/SharedFunctions_8cpp_source.html#l00026">SharedFunctions.cpp:26</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Virtex5_html_a43cb0728ebd386e04c76d7c4a98def9c"><div class="ttname"><a href="../../dd/d9a/classtorc_1_1bitstream_1_1Virtex5.html#a43cb0728ebd386e04c76d7c4a98def9c">torc::bitstream::Virtex5::getPrimaryXdlColumn</a></div><div class="ttdeci">uint32_t getPrimaryXdlColumn(uint32_t inXdlCol)</div><div class="ttdoc">Returns the primary column corresponding to the given column. If immediately to the left of a BRAM...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/def/Virtex5_8cpp_source.html#l01176">Virtex5.cpp:1176</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_ac2cfe73f8e07aa3203a787964f3cde07"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#ac2cfe73f8e07aa3203a787964f3cde07">populateLibraryMap</a></div><div class="ttdeci">static TiletypeElementMap populateLibraryMap(boost::filesystem::path libDBPath)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00888">Xdl2Bit.cpp:888</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1FrameSet_html"><div class="ttname"><a href="../../d3/d30/classtorc_1_1bitstream_1_1FrameSet.html">torc::bitstream::FrameSet&lt; VirtexFrame &gt;</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_ad0ffc71dd4cddb16e5dd668937663cff"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#ad0ffc71dd4cddb16e5dd668937663cff">checkValidityAndMergeBitstream</a></div><div class="ttdeci">void checkValidityAndMergeBitstream(std::string elementName, std::string configVal, const ElementConfigMap &amp;elementMap, VirtexFrameBlocks &amp;frameBlocks, uint32_t wordOffset, Bitstream &amp;outBitstream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00495">Xdl2Bit.cpp:495</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Frame_html_abef4da3efd894f31170a5959421890a7"><div class="ttname"><a href="../../d2/db3/classtorc_1_1bitstream_1_1Frame.html#abef4da3efd894f31170a5959421890a7">torc::bitstream::Frame::word_t</a></div><div class="ttdeci">WORD_TYPE word_t</div><div class="ttdoc">Frame word type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dae/Frame_8hpp_source.html#l00048">Frame.hpp:48</a></div></div>
<div class="ttc" id="LibraryDatabaseStitch_8hpp_html_a37784f35dee02de59c8d09057e368044"><div class="ttname"><a href="../../d7/dc0/LibraryDatabaseStitch_8hpp.html#a37784f35dee02de59c8d09057e368044">ElementConfigMap</a></div><div class="ttdeci">std::map&lt; const std::string, ConfigBitMap &gt; ElementConfigMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc0/LibraryDatabaseStitch_8hpp_source.html#l00016">LibraryDatabaseStitch.hpp:16</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Virtex5_html_ad041b9c492aac1266b41d2e63d5a949e"><div class="ttname"><a href="../../dd/d9a/classtorc_1_1bitstream_1_1Virtex5.html#ad041b9c492aac1266b41d2e63d5a949e">torc::bitstream::Virtex5::initializeDeviceInfo</a></div><div class="ttdeci">virtual void initializeDeviceInfo(const std::string &amp;inDeviceName)</div><div class="ttdoc">Initialize the device information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/def/Virtex5_8cpp_source.html#l00412">Virtex5.cpp:412</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_089570cc46ace66386d462f8f121a96b.html">src</a></li><li class="navelem"><a class="el" href="../../dir_ab14cdab922db05e19adc973fc5c97b9.html">torc</a></li><li class="navelem"><a class="el" href="../../dir_df912ebbcea978572783ba7ba43bacc6.html">bitstream</a></li><li class="navelem"><a class="el" href="../../dir_18626e1adf203c69ab740903c38ad968.html">assembler</a></li><li class="navelem"><a class="el" href="../../d9/d12/Xdl2Bit_8cpp.html">Xdl2Bit.cpp</a></li>
    <li class="footer">Generated on Thu Dec 18 2014 16:30:42 for torc-master by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
