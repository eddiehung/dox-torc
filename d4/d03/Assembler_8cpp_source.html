<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>abc-master: Assembler.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">abc-master
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d4/d03/Assembler_8cpp_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Assembler.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d4/d03/Assembler_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Torc - Copyright 2013-2013 University of Southern California.  All Rights Reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// $HeadURL: https://svn.east.isi.edu/torc/trunk/src/torc/bitstream/assembler/Assembler.cpp $</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// $Id: Assembler.cpp 1303 2013-02-25 23:18:16Z rsoni $</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// This program is free software: you can redistribute it and/or modify it under the terms of the </span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// GNU General Public License as published by the Free Software Foundation, either version 3 of the </span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// </span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; </span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See </span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// the GNU General Public License for more details.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// </span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// You should have received a copy of the GNU General Public License along with this program.  If </span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/// \file Assembler.cpp</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/// \brief Implementation of base class Assembler for Xdl to bitstream conversion</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d00/Assembler_8hpp.html">torc/bitstream/assembler/Assembler.hpp</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d71/AssemblerFactory_8hpp.html">torc/bitstream/assembler/AssemblerFactory.hpp</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/dc9/LutScanner_8hpp.html">torc/bitstream/assembler/lut/LutScanner.hpp</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d77/Bitstream_8hpp.html">torc/Bitstream.hpp</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d5d/DDB_8hpp.html">torc/architecture/DDB.hpp</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/db7/DirectoryTree_8hpp.html">torc/common/DirectoryTree.hpp</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d71/Physical_8hpp.html">torc/Physical.hpp</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;boost/regex.hpp&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">using namespace </span>torc::architecture;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">using namespace </span>torc::physical;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">using namespace </span>torc::bitstream;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">namespace </span>torc {</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="../../d6/d7e/namespacetorc_1_1bitstream.html">   35</a></span>&#160;<span class="keyword">namespace </span>bitstream {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">const</span> <span class="keywordtype">string</span> Assembler::sLibraryRelativePath = <span class="stringliteral">&quot;torc/bitstream/assembler/libraries&quot;</span>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">const</span> <span class="keywordtype">string</span> Assembler::sConfigOff = <span class="stringliteral">&quot;#OFF&quot;</span>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">const</span> <span class="keywordtype">string</span> Assembler::sLibraryExtension = <span class="stringliteral">&quot;.ldb&quot;</span>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">const</span> boost::regex Assembler::sLutConfigRegEx(<span class="stringliteral">&quot;^(#LUT).*&quot;</span>);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">const</span> boost::regex Assembler::sLutRamOrRomConfigRegEx(<span class="stringliteral">&quot;^(#RAM:|#ROM).*&quot;</span>);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">const</span> boost::regex Assembler::sRoutethroughRegEx(<span class="stringliteral">&quot;^_ROUTETHROUGH.*&quot;</span>);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">/// \details Called from constructor to initialize the object.</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">/// Populates mirco-bitstream data from library in a map.</span></div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#aca8695027ae51b1854f4101751738e7d">   46</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> Assembler::initialize(<span class="keywordtype">void</span>) {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    mUnsupportedTileCount = 0;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    mUnsupportedTileTypeCount = 0;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    mUnsupportedPipCount = 0;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    mMissingConfigs = 0;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    mLibraryPath = <a class="code" href="../../d4/da0/classtorc_1_1common_1_1DirectoryTree.html#af1b18fb3aa350b4522babca30a9034b8">torc::common::DirectoryTree::getExecutablePath</a>() / sLibraryRelativePath;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">if</span>(!boost::filesystem::exists(mLibraryPath)) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: Library folder &quot;</span> &lt;&lt; mLibraryPath &lt;&lt; <span class="stringliteral">&quot; does not exist.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keywordflow">throw</span> 1;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    mBigEndian = isBigEndianMachine();</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">///// \details Public function to be called by user to initiate bitstream generation process.</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">/////   The parameter inBaseBitstreamPath will act as base bitstream for micro-bitstream assembly process.</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">/////   This function might be implemented in derived class for additional architecture specific processing.</span></div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a08832ed7bac4240012ff50200b80d47c">   64</a></span>&#160;<span class="comment"></span><span class="keywordtype">int</span> Assembler::generateBitstream(<a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a75b63082e9ee7d0177b39a552c914325">DesignSharedPtr</a> inDesignPtr,</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#aef9535aefef89dbcb9ef68fa450ba035">path</a> inTargetBitstreamPath,</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a90ad68ffde201528f936bd9ff0372144">EMergeMode</a> inMergeMode,</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#aef9535aefef89dbcb9ef68fa450ba035">path</a> baseBitstreamPath) {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    mDesignPtr = inDesignPtr;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    mMergeMode = inMergeMode;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    mTargetBitstreamPath = inTargetBitstreamPath;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">if</span>(mDesignPtr-&gt;getDevice() != mDB.getDeviceName()) {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Xdl device differs from database device&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">// User hasn&#39;t specified base bitstream path</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">if</span>(baseBitstreamPath.empty()) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="comment">// Null bitstreams are stored in library folder</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">string</span> partNumber = mDesignPtr-&gt;getDevice();</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordtype">string</span> nullBitFileName = partNumber + <span class="stringliteral">&quot;.bit&quot;</span>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        baseBitstreamPath = mLibraryPath / <span class="stringliteral">&quot;null_bitstreams&quot;</span> / nullBitFileName;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    } </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">if</span>(!boost::filesystem::exists(baseBitstreamPath)) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Base bitstream file - &quot;</span> &lt;&lt; baseBitstreamPath.string()</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; - does not exist.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// Load the base bitstream file</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Loading base bitstream &quot;</span> &lt;&lt; baseBitstreamPath &lt;&lt; std::endl;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    std::ifstream baseBitstream;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    baseBitstream.open(baseBitstreamPath.string().c_str());</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    mBitstreamPtr = <a class="code" href="../../df/de0/classtorc_1_1bitstream_1_1Factory.html#a773c2c2d9504d6e196f071d8dbebac47">torc::bitstream::Factory::newBitstreamPtr</a>(baseBitstreamPath);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">// Initialize different settings of bitstream object.</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    mBitstreamPtr-&gt;setDesignName(mDesignPtr-&gt;getName());</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    mBitstreamPtr-&gt;initializeDeviceInfo(mBitstreamPtr-&gt;getDeviceName());</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    mBitstreamPtr-&gt;initializeFrameMaps();</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">/// \details Protected function to internally initiate micro-bitstream assembly process.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">/// This function should be called after design ptr, base bitstream, and library have be initialized.</span></div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#ae85a0c94555b870f8529add58d2fb1ea">  104</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#af5394c153db17bbec6ee4ca45ec276ea">Assembler::convertXdlToBitstream</a>() {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ad6304506c423b4c5c3285017109d4701">assembleInstances</a>();</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a73b44d26286730d2c741a0c4cbdeb303">assembleNets</a>();</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Unsupported tile type count &quot;</span> &lt;&lt; mUnsupportedTileTypeSet.size() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">for</span>(std::set&lt;std::string&gt;::iterator iter = mUnsupportedTileTypeSet.begin(); iter != mUnsupportedTileTypeSet.end(); iter++) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;   &quot;</span> &lt;&lt; *iter &lt;&lt; std::endl;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Unsupported tile count : &quot;</span> &lt;&lt; mUnsupportedTileCount &lt;&lt; std::endl;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Unsupported pip count : &quot;</span> &lt;&lt; mUnsupportedPipCount &lt;&lt; std::endl;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Missing configs of supported tiles : &quot;</span> &lt;&lt; mMissingConfigs &lt;&lt; std::endl;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}<span class="comment"></span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">/// \details Function to assemble micro-bitstreams for instances of Xdl design.</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">///     This function iterates over instances, stores frame blocks and bit offset within for site location,</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">/// and then iterates over config settings of the instance. Ramb instances are handled in separate function.</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">/// Special cases for configurations are - lut equations, lut in ram/rom mode, compound configuration, and</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">/// configuration with hex values.</span></div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a9ccff26dc7d9f3cac10e9e2410d660cf">  123</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ad6304506c423b4c5c3285017109d4701">Assembler::assembleInstances</a>() {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Assembling micro-bitstream for instances... count: &quot;</span> &lt;&lt; mDesignPtr-&gt;getInstanceCount() &lt;&lt;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        std::endl;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">// Get instances begin and end</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    InstanceSharedPtrVector::const_iterator pInstance = mDesignPtr-&gt;instancesBegin();</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    InstanceSharedPtrVector::const_iterator eInstance = mDesignPtr-&gt;instancesEnd();</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">// Iterate over all the instances</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">while</span>(pInstance != eInstance) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a7a2c58e551e2725696c6a834d5da5a46">InstanceSharedPtr</a> instancePtr = *pInstance++;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordtype">string</span> siteType = instancePtr-&gt;getType();</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="comment">// Check if instance is placed on supported site type</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="comment">//if(isSiteTypeSupported(siteType) ) {</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;siteName = instancePtr-&gt;getSite();</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <span class="keywordflow">if</span>(siteName.empty()) {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                std::cout &lt;&lt; <span class="stringliteral">&quot;   WARNING: Unplaced instance &quot;</span> &lt;&lt; instancePtr-&gt;getName() &lt;&lt; endl;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;tileType = getTiletypeFromSitename(siteName);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;  Processing instance &quot;</span> &lt;&lt; instancePtr-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; placed on site &quot;</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                &lt;&lt; siteName &lt;&lt; <span class="stringliteral">&quot; in tile &quot;</span> &lt;&lt; tileType &lt;&lt; <span class="stringliteral">&quot; with &quot;</span> &lt;&lt; instancePtr-&gt;getConfigCount() &lt;&lt; <span class="stringliteral">&quot; configs set.&quot;</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                &lt;&lt; std::endl;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            getAnnotatedSiteTypeForSlicel(siteType, siteName);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="keywordflow">if</span>(!tileAndSiteExistInLibrary(tileType, siteType))</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="comment">// Store frame blocks and bit offset for current site location</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            initializeFrameDataForSite(siteName);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="comment">// RAMB sites are handled in a slightly different manner</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a026bfc43702b6b80c8b19a1d05353a04">isRambSite</a>(siteType)) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                assembleRamb(instancePtr);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                <span class="comment">// Get the element to config map for the given site type</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a9600412bfcfa08ff5de61fc67aabb626">SiteTypeToConfigSettings</a> sitetypeToConfigSettings = mLibrary[tileType];</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                <a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#ad384c94b5bd834996b4f4149606e4eb1">ConfigSettingsToValues</a> configSettingToValuesMap = sitetypeToConfigSettings[siteType];</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                <span class="comment">// Go over all the configurations of the instance</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                <a class="code" href="../../dc/d33/classtorc_1_1physical_1_1ConfigMap.html#ad587f0db6f734f07dfeadbf1e61ea686">ConfigMap::const_iterator</a> pConfig = instancePtr-&gt;configBegin();</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                <a class="code" href="../../dc/d33/classtorc_1_1physical_1_1ConfigMap.html#ad587f0db6f734f07dfeadbf1e61ea686">ConfigMap::const_iterator</a> eConfig = instancePtr-&gt;configEnd();</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                <span class="keywordflow">while</span>(pConfig != eConfig) {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                    <span class="comment">// Ignore routethrough config setting as they don&#39;t set bits in bitstream</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                    <span class="keywordflow">if</span>(isRoutethrough(pConfig-&gt;first)) {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                        pConfig++;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    <span class="comment">// std::cout &lt;&lt; &quot;\tWorking on config &quot; &lt;&lt; pConfig-&gt;first &lt;&lt; &quot;::&quot;</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    <span class="comment">//  &lt;&lt; pConfig-&gt;second.getValue() &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    <span class="comment">// Lut equation has to be handled differently from other config setting.</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                    <span class="comment">// The boolean operation in the LUT equation have to be performed on the relevant bits.</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                    <span class="keywordflow">if</span>(<a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#aa9d765ccfdb90052eb82cbcf64c91f8e">isLutEquationSetting</a>(pConfig-&gt;second.getValue())) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                        mergeLutEquationBits(pConfig-&gt;first, pConfig-&gt;second.getValue(), configSettingToValuesMap);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                    } <span class="comment">// LUT ROM and RAM settings also need special care</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a9bf6e309c72cf92c5a12a988e6d3c56d">isLutRamOrRomSetting</a>(pConfig-&gt;second.getValue())) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                        <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a9cb00f66f3601e31c679c36a3011f923">mergeLutRamOrRomBits</a>(pConfig-&gt;first, pConfig-&gt;second.getValue(), configSettingToValuesMap);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                    } <span class="comment">// Some elements together effect the bitstream.</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(isCompoundSetting(pConfig-&gt;first)) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                        <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a8408e741933a976c5cf1c1142e2267a4">mergeCompoundSettingBits</a>(pConfig-&gt;first, pConfig-&gt;second.getValue(),</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                            instancePtr, configSettingToValuesMap);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                    } <span class="comment">// The DSP MASK and PATTERN have hex values</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(isConfigValHexString(instancePtr-&gt;getType(), pConfig-&gt;first)) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                        mergeHexConfigBits(pConfig-&gt;first, pConfig-&gt;second.getValue(), configSettingToValuesMap);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                        <span class="comment">// Merge compressed bitstream to main bitstream if valid setting</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                        <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ad0ffc71dd4cddb16e5dd668937663cff">checkValidityAndMergeBitstream</a>(pConfig-&gt;first, pConfig-&gt;second.getValue(),</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                            configSettingToValuesMap);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                    }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                    <span class="comment">//std::cout &lt;&lt; &quot;\t------------------&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                    pConfig++;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">//  } else {</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">//      std::cout &lt;&lt; &quot;WARNING: Site &quot; &lt;&lt; instancePtr-&gt;getType() &lt;&lt; &quot; not supported.&quot;</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">//          &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">//  }</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">/// \details Function to assemble micro-bitstreams for net of Xdl design.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a4febaa340032f6c95f4c1a665756cfb4">  210</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a73b44d26286730d2c741a0c4cbdeb303">Assembler::assembleNets</a>() {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">// Get the iterators to nets</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    NetSharedPtrVector::const_iterator pNets = mDesignPtr-&gt;netsBegin();</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    NetSharedPtrVector::const_iterator eNets = mDesignPtr-&gt;netsEnd();</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Assembling micro-bitstreams for Nets... count: &quot;</span> &lt;&lt; mDesignPtr-&gt;getNetCount()</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        &lt;&lt; std::endl;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">// Iterate over nets</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">while</span>(pNets != eNets) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <a class="code" href="../../de/d76/namespacetorc_1_1physical.html#a5ae9fcfb9cf8228f052b7412796418f6">NetSharedPtr</a> netPtr = *pNets;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="comment">// std::cout &lt;&lt; &quot;  Processing net: &quot; &lt;&lt; netPtr-&gt;getName() &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="comment">// Iterate over pips in the net</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <a class="code" href="../../d4/d20/classtorc_1_1physical_1_1Net.html#a95954f476447102e19f7f50f92a3d780">Net::PipConstIterator</a> pPips = netPtr-&gt;pipsBegin();</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <a class="code" href="../../d4/d20/classtorc_1_1physical_1_1Net.html#a95954f476447102e19f7f50f92a3d780">Net::PipConstIterator</a> ePips = netPtr-&gt;pipsEnd();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">while</span>(pPips != ePips) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <a class="code" href="../../d9/d40/classtorc_1_1physical_1_1Pip.html">Pip</a> pip = *pPips++;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="comment">// Store frame blocks and bit offset for this tile</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <a class="code" href="../../de/da8/structtorc_1_1architecture_1_1xilinx_1_1TileIndex.html">TileIndex</a> tileIndex = mTiles.findTileIndex(pip.<a class="code" href="../../d9/d40/classtorc_1_1physical_1_1Pip.html#a6ff301e25c78644fdc6d51da28a41f18">getTileName</a>());</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            initializeFrameDataForTile(tileIndex);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d0/d83/classtorc_1_1architecture_1_1TileInfo.html">TileInfo</a>&amp; tileInfo = mTiles.getTileInfo(tileIndex);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordtype">string</span> tileType = mTiles.getTileTypeName(tileInfo.<a class="code" href="../../d0/d83/classtorc_1_1architecture_1_1TileInfo.html#a3929d1b6b85ec182fccfc88eef0203b7">getTypeIndex</a>());</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="keywordflow">if</span>(!tileAndSiteExistInLibrary(tileType, <span class="stringliteral">&quot;routing&quot;</span>)) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                mUnsupportedPipCount++;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#ad384c94b5bd834996b4f4149606e4eb1">ConfigSettingsToValues</a> configSettingToValuesMap = mLibrary[tileType][<span class="stringliteral">&quot;routing&quot;</span>];</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="comment">// std::cout &lt;&lt; &quot;\tTile &quot; &lt;&lt; tileInfo.getName() &lt;&lt; &quot; Src: &quot; &lt;&lt; pip.getSourceWireName()</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="comment">//  &lt;&lt; &quot; Sink: &quot; &lt;&lt; pip.getSinkWireName() &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ad0ffc71dd4cddb16e5dd668937663cff">checkValidityAndMergeBitstream</a>(pip.<a class="code" href="../../d9/d40/classtorc_1_1physical_1_1Pip.html#a7a3f546bb994b1fb83b70af9db209b49">getSourceWireName</a>(), pip.<a class="code" href="../../d9/d40/classtorc_1_1physical_1_1Pip.html#af247ed28068b79e74ab30caed5e93464">getSinkWireName</a>(),</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                configSettingToValuesMap);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        pNets++;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;}</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">/// \brief Different architectures will have different sites supported.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">/// Derived classes should override this function.</span></div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#aa7f664dce193b41a8e7c991845f313e1">  253</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a545092a4b96c8e383b26db705f16a133">Assembler::isSiteTypeSupported</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;inSiteType) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">/// \brief Assemble micro-bitstream for ramb site.</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">/// First the base micro-bitstream is merged. Micro-bitstream info for memory and</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">/// parity init values are gathered from ll files.</span></div>
<div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#ae20db21ea0fd401fbcc448a544bb0619">  260</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> Assembler::assembleRamb(<a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a7a2c58e551e2725696c6a834d5da5a46">InstanceSharedPtr</a> inInstancePtr) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">// Get the element to config map for the given site type</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;tileType = getTiletypeFromSitename(inInstancePtr-&gt;getSite());</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#ad384c94b5bd834996b4f4149606e4eb1">ConfigSettingsToValues</a> configSettingToValuesMap = mLibrary[tileType][inInstancePtr-&gt;getType()];</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">// Open the RAMBIT memory file and store data in a vector</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">// This file stores memory address to bitstream address map</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordtype">string</span> memoryMapFileName = mParentFamilyName + <span class="stringliteral">&quot;-&quot;</span> + tileType + <span class="stringliteral">&quot;-map.bits&quot;</span>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordtype">string</span> rambMemoryMapFilePath = mLibraryPath.string() + <span class="stringliteral">&quot;/memory/&quot;</span> + memoryMapFileName;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    std::ifstream rambMemoryBitFile(rambMemoryMapFilePath.c_str(), std::ios::binary);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">if</span>(!rambMemoryBitFile.is_open()) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Could not open bram memory map file &quot;</span> &lt;&lt; rambMemoryMapFilePath &lt;&lt; std::endl;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    std::vector&lt;uint32_t&gt; bitAddresses;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    uint32_t count = 0, bitAddress = 0;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">while</span>(!rambMemoryBitFile.eof()) {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="comment">// Alternate number is ignored.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        rambMemoryBitFile.read((<span class="keywordtype">char</span> *) &amp;count, 4);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        rambMemoryBitFile.read((<span class="keywordtype">char</span> *) &amp;bitAddress, 4);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        bitAddress = ntohl(bitAddress);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        bitAddresses.push_back(bitAddress);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    rambMemoryBitFile.close();</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment">// Open the RAMB parity bit file and store the data in a vector</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordtype">string</span> parMapFileName = mParentFamilyName + <span class="stringliteral">&quot;-&quot;</span> + tileType + <span class="stringliteral">&quot;-map-par.bits&quot;</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordtype">string</span> rambParityBitFilePath = mLibraryPath.string() + <span class="stringliteral">&quot;/memory/&quot;</span> + parMapFileName;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    std::ifstream rambParityBitFile(rambParityBitFilePath.c_str(), std::ios::binary);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">if</span>(!rambParityBitFile.is_open()) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: Could not open file &quot;</span> &lt;&lt; rambParityBitFilePath &lt;&lt; std::endl;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    std::vector&lt;uint32_t&gt; parityBitAddresses;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    count = 0, bitAddress = 0;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">while</span>(!rambParityBitFile.eof()) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        rambParityBitFile.read((<span class="keywordtype">char</span> *) &amp;count, 4);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        rambParityBitFile.read((<span class="keywordtype">char</span> *) &amp;bitAddress, 4);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        bitAddress = ntohl(bitAddress);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        parityBitAddresses.push_back(bitAddress);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    rambParityBitFile.close();</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="comment">// Before going over configs, merge the RAMB base bits.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    mergeWithBaseBitstream(configSettingToValuesMap[inInstancePtr-&gt;getType()][<span class="stringliteral">&quot;BASE&quot;</span>], 0);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">// Go over all the configurations of the instance</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="../../dc/d33/classtorc_1_1physical_1_1ConfigMap.html#ad587f0db6f734f07dfeadbf1e61ea686">ConfigMap::const_iterator</a> pConfig = inInstancePtr-&gt;configBegin();</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="../../dc/d33/classtorc_1_1physical_1_1ConfigMap.html#ad587f0db6f734f07dfeadbf1e61ea686">ConfigMap::const_iterator</a> eConfig = inInstancePtr-&gt;configEnd();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">while</span>(pConfig != eConfig) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;\tWorking on config &quot;</span> &lt;&lt; pConfig-&gt;first &lt;&lt; <span class="stringliteral">&quot;::&quot;</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            &lt;&lt; pConfig-&gt;second.getValue() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="comment">// ToDo: Most of the code for memory and parity is same with only the bit address being different.</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="comment">//  Try to merge the two if statements.</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="comment">// RAMB memory and parity init values have to be handled differently.</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a2fb65c6139c9c19441fe873b237ff916">isMemoryInitSetting</a>(pConfig-&gt;first)) {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <span class="comment">// Get the row number from config name. Last two character are row number in hex form.</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            stringstream ssRow;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            uint32_t memoryInitRow;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            ssRow &lt;&lt; std::hex &lt;&lt; pConfig-&gt;first.substr(pConfig-&gt;first.length() - 2, 2);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            ssRow &gt;&gt; memoryInitRow;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ab0c649ca250a8b9d7c6b4fcb2e94b87f">mergeRambInitBits</a>(pConfig-&gt;second.getValue(), memoryInitRow, bitAddresses, 1);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a5f7c2023bd81037f141ea023410c130b">isMemoryParityInitSetting</a>(pConfig-&gt;first)) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="comment">// Get the row number from config name. Last two character are row number in hex form.</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            stringstream ssRow;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            uint32_t memoryInitRow;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            ssRow &lt;&lt; std::hex &lt;&lt; pConfig-&gt;first.substr(pConfig-&gt;first.length() - 2, 2);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            ssRow &gt;&gt; memoryInitRow;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ab0c649ca250a8b9d7c6b4fcb2e94b87f">mergeRambInitBits</a>(pConfig-&gt;second.getValue(), memoryInitRow, parityBitAddresses, 1);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="comment">// Merge compressed bitstream to main bitstream</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ad0ffc71dd4cddb16e5dd668937663cff">checkValidityAndMergeBitstream</a>(pConfig-&gt;first, pConfig-&gt;second.getValue(), configSettingToValuesMap);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        pConfig++;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">/// \details Get tile type from site location(name)</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">/// ToDo: A lot of this code is present in initializeFrameDataForSite()</span></div>
<div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a3e4b645939b162ca0dc50b196917b139">  345</a></span>&#160;<span class="comment"></span><span class="keywordtype">string</span> Assembler::getTiletypeFromSitename(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;inSiteName) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="../../db/dd9/structtorc_1_1architecture_1_1xilinx_1_1SiteIndex.html">SiteIndex</a> siteIndex = mSites.findSiteIndex(inSiteName);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../da/dd8/classtorc_1_1architecture_1_1Site.html">Site</a>&amp; site = mSites.getSite(siteIndex);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="../../de/da8/structtorc_1_1architecture_1_1xilinx_1_1TileIndex.html">TileIndex</a> tileIndex = site.<a class="code" href="../../da/dd8/classtorc_1_1architecture_1_1Site.html#aa6161f227602b45ee6775d161c94ad2d">getTileIndex</a>();</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d0/d83/classtorc_1_1architecture_1_1TileInfo.html">TileInfo</a>&amp; tileInfo = mTiles.getTileInfo(tileIndex);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordtype">string</span> tileType = mTiles.getTileTypeName(tileInfo.<a class="code" href="../../d0/d83/classtorc_1_1architecture_1_1TileInfo.html#a3929d1b6b85ec182fccfc88eef0203b7">getTypeIndex</a>());</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">return</span> tileType; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">/// \brief Check if configurations is present in library. If yes, merge the corresponding bits with the bitstream</span></div>
<div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a2b88d09dc7347cca9d7c61221c5418b3">  357</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ad0ffc71dd4cddb16e5dd668937663cff">Assembler::checkValidityAndMergeBitstream</a>(<span class="keywordtype">string</span> inElementName, <span class="keywordtype">string</span> inConfigVal,</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#ad384c94b5bd834996b4f4149606e4eb1">ConfigSettingsToValues</a> &amp;inConfigSettingToValues) {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    ConfigSettingsToValues::const_iterator pConfigSettings = inConfigSettingToValues.find(inElementName);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="comment">// If element found in the map</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">if</span>(pConfigSettings != inConfigSettingToValues.end()) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        ConfigValuesToBits::const_iterator pConfigValues = pConfigSettings-&gt;second.find(inConfigVal);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="comment">//If config value found in the config to bit map</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">if</span>(pConfigValues != pConfigSettings-&gt;second.end()) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            <span class="comment">// std::cout &lt;&lt; &quot;  Setting: &quot; &lt;&lt; inElementName &lt;&lt; &quot; . Config: &quot; &lt;&lt; inConfigVal &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            mergeWithBaseBitstream(pConfigValues-&gt;second, 0);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            mMissingConfigs++;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;WARNING: Config value &quot;</span> &lt;&lt; inConfigVal &lt;&lt; <span class="stringliteral">&quot; for setting &quot;</span> &lt;&lt; inElementName</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; not found in library.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        mMissingConfigs++;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;WARNING: Config setting &quot;</span> &lt;&lt; inElementName &lt;&lt; <span class="stringliteral">&quot; not found in library.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;}<span class="comment"></span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">/// \brief Returns true if configuration is preseRnt in library</span></div>
<div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a19ec3bb0406cabf90ff370add4ef94bd">  379</a></span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a27c41d0999d3ddd7e5b963f098c4d526">Assembler::elementAndConfigExistInLibrary</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;inElementName,</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;inConfigValue, <a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#ad384c94b5bd834996b4f4149606e4eb1">ConfigSettingsToValues</a> &amp;inConfigSettingToValues) {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">// Check if element exists</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    ConfigSettingsToValues::iterator pConfigSettings = inConfigSettingToValues.find(inElementName);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span>(pConfigSettings != inConfigSettingToValues.end()) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="comment">// Check if config exists</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        ConfigValuesToBits::iterator pConfigValues = pConfigSettings-&gt;second.find(inConfigValue);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">if</span>(pConfigValues != pConfigSettings-&gt;second.end())</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;WARNING: Config setting &quot;</span> &lt;&lt; inElementName &lt;&lt; <span class="stringliteral">&quot; with value &quot;</span> &lt;&lt; inConfigValue</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        &lt;&lt; <span class="stringliteral">&quot; not found in library&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">/// \brief If slice site type, annotate type as per even or odd column</span></div>
<div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#accdf8ac35c8255ff7000431eddd1029e">  396</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> Assembler::getAnnotatedSiteTypeForSlicel(<span class="keywordtype">string</span> &amp;inOutSiteType, <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;siteLocation) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">if</span>(boost::regex_search(inOutSiteType.begin(), inOutSiteType.end(), boost::regex(<span class="stringliteral">&quot;SLICEL&quot;</span>))){</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="comment">// Get the column number of site location</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        boost::smatch matchResults;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        boost::regex columnExpr(<span class="stringliteral">&quot;_X(\\d+)Y&quot;</span>);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordflow">if</span>(boost::regex_search(siteLocation, matchResults, columnExpr)) {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            <span class="comment">// First match is the whole string</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="keywordtype">int</span> column = boost::lexical_cast&lt;<span class="keywordtype">int</span>&gt;(matchResults[1]);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keywordflow">if</span>(column % 2 == 0) </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                inOutSiteType = inOutSiteType + <span class="stringliteral">&quot;E&quot;</span>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                inOutSiteType = inOutSiteType + <span class="stringliteral">&quot;O&quot;</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;}</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">/// \details Merge micro-bitstream for Lut equation.</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">///     The bit operations (AND, OR, etc.) are performed on the micro-bitstreams corresponding to every literal.</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">/// Bit operation NOT is performed by XORing with micro-bitstream for LUT output assigned to 1.</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">/// The lut equation is parsed using bison and flex. When a literal is encountered, the set of frames</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">/// corresponding to literal is pushed on to a stack. When a bit operator is encountered, two set of frames</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">/// is poped from the stack and the bit operations is performed on the two set of frames and result is pushed back</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">/// to stack.</span></div>
<div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#af52eefff0a668d1e2a52ae2fa39523ac">  420</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> Assembler::mergeLutEquationBits(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;inElementName, <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;inConfigValue,</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#ad384c94b5bd834996b4f4149606e4eb1">ConfigSettingsToValues</a> &amp;inConfigSettingToValues) {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="comment">// Get the right hand side and lefthand side of the LUT equation.</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    std::vector&lt;string&gt; splitVector;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    boost::algorithm::split(splitVector, inConfigValue, boost::algorithm::is_any_of(<span class="stringliteral">&quot;=&quot;</span>));</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="comment">// The left side tell which output (O5 or O6) is being affected. Store it in a global</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">// so that it can be used by functions called from bison</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    mLutCurrentEquationLhs = splitVector[0];</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordtype">string</span> equationRight = splitVector[1];</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="comment">// Store the frames for LUT setting constant 1. XOR with these frames give NOT functionality.</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordtype">string</span> lutEquationForOne = mLutCurrentEquationLhs + <span class="stringliteral">&quot;=1&quot;</span>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="comment">// Currently all the frames of a LUT setting are not stored. We know only 4 words get affected by LUT setting -</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">// 4 frames and a word in each frame. So instead we store only 4 words and the frame index and word index.</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a27c41d0999d3ddd7e5b963f098c4d526">elementAndConfigExistInLibrary</a>(inElementName, lutEquationForOne, inConfigSettingToValues)) {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        mCurrentConfigToBitMap = inConfigSettingToValues[inElementName];</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        std::vector&lt;uint32_t&gt; bitAddressesForOne = mCurrentConfigToBitMap[lutEquationForOne];</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        mLutCurrentReferenceFrameIndex = bitAddressesForOne[0] &gt;&gt; 16;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        mCurrentReferenceWordIndex = (bitAddressesForOne[0] &amp; 0x0000FF00) &gt;&gt; 8;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        mLutFrameSetForOne.clear();</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        mLutFrameSetForOne.resize(4, uint32_t(0));</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="keywordflow">for</span>(std::vector&lt;uint32_t&gt;::const_iterator bitIter = bitAddressesForOne.begin(); bitIter</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            != bitAddressesForOne.end(); bitIter++) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            int32_t bitIndex = (*bitIter) &amp; 0x000000FF;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            int32_t frameIndex = (*bitIter) &gt;&gt; 16;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            uint32_t frameWord = 1 &lt;&lt; (bitIndex - 1);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            mLutFrameSetForOne[frameIndex - mLutCurrentReferenceFrameIndex]</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                = mLutFrameSetForOne[frameIndex - mLutCurrentReferenceFrameIndex] | frameWord;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordflow">if</span>(!processLut(equationRight.c_str(), inConfigValue)) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;ERROR: Error in parsing LUT equation &quot;</span> &lt;&lt; inConfigValue &lt;&lt; std::endl;<span class="comment"></span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">            /// \todo Do we really want to abort here just because the user has an incorrect expression?</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment"></span>            exit(-1);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="comment">// Build bit addresses out of the last frame in gStackOfFrames</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        std::vector&lt;uint32_t&gt; combinedLUTWords = mLutFrameSetStack[0];</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        std::vector&lt;uint32_t&gt; bitAddresses;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        uint32_t frameOffset = 0;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keywordflow">for</span>(std::vector&lt;uint32_t&gt;::const_iterator wordIter = combinedLUTWords.begin(); wordIter</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            != combinedLUTWords.end(); wordIter++, frameOffset++) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            uint32_t tempWord = *wordIter;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            uint32_t bitIndex = 1;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="keywordflow">while</span>(tempWord != 0) {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                <span class="comment">// check if the LSB is 1</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                <span class="keywordflow">if</span>(tempWord &amp; 1) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                    <span class="comment">// store the combined address</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                    bitAddresses.push_back(((mLutCurrentReferenceFrameIndex + frameOffset) &lt;&lt; 16)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                        | (mCurrentReferenceWordIndex &lt;&lt; 8) | bitIndex);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                tempWord = tempWord &gt;&gt; 1;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                bitIndex++;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        mergeWithBaseBitstream(bitAddresses, 0);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        mLutFrameSetStack.clear();</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">/// \details Merge micro-bitstream for lut in ram/rom mode. The lut ram/rom memory address</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">/// to bit address map is obtained from ll files.</span></div>
<div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#ac409e7579e47b1a02d95918bf496840c">  491</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a9cb00f66f3601e31c679c36a3011f923">Assembler::mergeLutRamOrRomBits</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;inElementName, <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;inConfigVal, </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                    <a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#ad384c94b5bd834996b4f4149606e4eb1">ConfigSettingsToValues</a> &amp;inConfigSettingToValues) {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="comment">// Since memory content are similar for SLICEL and SLICEM,</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="comment">// they are stored in library under element name SLICE</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="comment">// ConfigSettingsToValues &amp;configSettingToValuesMap = mLibrary[&quot;CLBLM&quot;][&quot;SLICE&quot;];</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="comment">// Get the right hand side and lefthand side of the LUT equation.</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    std::vector&lt;string&gt; splitVector;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    boost::algorithm::split(splitVector, inConfigVal, boost::algorithm::is_any_of(<span class="stringliteral">&quot;=&quot;</span>));</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="comment">// Remove the first two characters - 0x - from the hex value</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordtype">string</span> memoryValue = splitVector[1].substr(2);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">if</span>(memoryValue.length() != 8 &amp;&amp; memoryValue.length() != 16) {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;WARNING: Illegal configuration of element &quot;</span> &lt;&lt; inElementName &lt;&lt; std::endl;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="comment">// When output O5 of LUT is configured, it has only 8 hex characters in the memory string,</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="comment">// and they belong to the higher memory address of 16 hex characters.</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">if</span>(memoryValue.length() == 8) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        memoryValue = <span class="stringliteral">&quot;00000000&quot;</span> + memoryValue;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">// Get the bit address vector</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">// Since X5LUT and X6LUT use the same memory address to bit address map,</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="comment">// element name is changed to use only 1st letter of the name, viz X (A, B, C or D)</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="comment">// and config name is changed to ROM</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordtype">string</span> elementNameForMemoryMode = inElementName.substr(0, 1);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    std::vector&lt;uint32_t&gt; bitAddressesForROM;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a27c41d0999d3ddd7e5b963f098c4d526">elementAndConfigExistInLibrary</a>(elementNameForMemoryMode, <span class="stringliteral">&quot;ROM&quot;</span>, inConfigSettingToValues))</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    bitAddressesForROM = inConfigSettingToValues[elementNameForMemoryMode][<span class="stringliteral">&quot;ROM&quot;</span>];</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    std::vector&lt;uint32_t&gt; bitAddresses;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="comment">// Iterate over the memory string from left to right</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">for</span>(uint32_t charIndex = 0; charIndex &lt; memoryValue.length(); charIndex++) {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        stringstream sshexChar;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        sshexChar &lt;&lt; std::hex &lt;&lt; memoryValue[charIndex];</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        uint32_t hexDigit;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        sshexChar &gt;&gt; hexDigit;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="comment">// Go over the bits of the hex digit from left to right</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> bitIndex = 0; hexDigit != 0; bitIndex++) {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="keywordflow">if</span>(hexDigit &amp; 8) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                uint32_t memoryAddress = (charIndex &lt;&lt; 2) + bitIndex;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                stringstream ssConfigBitIndex;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                ssConfigBitIndex &lt;&lt; memoryAddress;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                bitAddresses.push_back(bitAddressesForROM[memoryAddress]);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            hexDigit = hexDigit &lt;&lt; 1;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    mergeWithBaseBitstream(bitAddresses, 0);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">/// \details Merge micro-bitstream for compound setting. There are some settings which</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">/// together affect the bitstream.</span></div>
<div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a2123efccda8ea8ab3da2741b34b294cf">  550</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#a8408e741933a976c5cf1c1142e2267a4">Assembler::mergeCompoundSettingBits</a>(<span class="keywordtype">string</span> inElement1Name, <span class="keywordtype">string</span> inConfig1Val,</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a7a2c58e551e2725696c6a834d5da5a46">InstanceSharedPtr</a> inInstancePtr, <span class="keyword">const</span> <a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#ad384c94b5bd834996b4f4149606e4eb1">ConfigSettingsToValues</a> &amp;inConfigSettingToValues) {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    std::vector&lt;string&gt; compoundElements = getDependantConfigs(inElement1Name);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="comment">// For now assume there is only on element in the vector, i.e. there is a compound</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="comment">// setting with only two elements.</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">if</span>(compoundElements.size() != 1) {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        std::cout</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;WARNING: Compound setting with more than two configurations not handled currently&quot;</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            &lt;&lt; std::endl;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="comment">// The two element names will be concatenated to form a compound element name Element1Element2.</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="comment">// Similarly two config settings will be concatenated to form a compound config name.</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> element2Name = compoundElements[0];</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> compoundElementName = inElement1Name + element2Name;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="comment">// Find the 2nd element config in the instance</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> config2Val, config2Name;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        inInstancePtr-&gt;getConfig(element2Name, config2Name, config2Val);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="comment">// Element 2 config not set</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordflow">if</span>(config2Val.compare(sConfigOff) == 0) {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;Illegal configuration. Element &quot;</span> &lt;&lt; element2Name &lt;&lt; <span class="stringliteral">&quot; must be set &quot;</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; along with element &quot;</span> &lt;&lt; inElement1Name &lt;&lt; std::endl;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="comment">// Get compound config val</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">std::string</a> compoundConfigVal = inConfig1Val + config2Val;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="comment">// Verify setting and merge bits</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ad0ffc71dd4cddb16e5dd668937663cff">checkValidityAndMergeBitstream</a>(compoundElementName, compoundConfigVal, inConfigSettingToValues);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;}</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment">/// \details Merge micro-bitstream for configurations with hex values. The hex string is parsed</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment">/// character by character and micro-bitstream for every set bit is retrived from library and</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">/// merged with base bitstream.</span></div>
<div class="line"><a name="l00590"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#ada7227947bdd97a502ad676da6389b8d">  590</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> Assembler::mergeHexConfigBits(<span class="keywordtype">string</span> inElementName, <span class="keywordtype">string</span> inConfigVal,</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#ad384c94b5bd834996b4f4149606e4eb1">ConfigSettingsToValues</a> &amp;inConfigSettingToValues) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    std::vector&lt;uint32_t&gt; inBitAddresses;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="comment">// Go over all the characters of the config val string</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordflow">for</span>(uint32_t charIndex = 0; charIndex &lt; inConfigVal.length(); charIndex++) {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        stringstream sshexChar;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        sshexChar &lt;&lt; std::hex &lt;&lt; inConfigVal[inConfigVal.length() - charIndex - 1];</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        uint32_t hexDigit;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        sshexChar &gt;&gt; hexDigit;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="comment">// Go over all the bits of the hex digit</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> bitIndex = 0; hexDigit != 0; bitIndex++) {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <span class="keywordflow">if</span>(hexDigit &amp; 1) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                <span class="keywordtype">int</span> configBitIndex = (charIndex &lt;&lt; 2) + bitIndex;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                stringstream ssConfigBitIndex;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                ssConfigBitIndex &lt;&lt; configBitIndex;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ad0ffc71dd4cddb16e5dd668937663cff">checkValidityAndMergeBitstream</a>(inElementName, ssConfigBitIndex.str(), inConfigSettingToValues);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            hexDigit = hexDigit &gt;&gt; 1;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        }</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;}</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">/// \details Merges micro-bitstream for ramb init (both memory and parity) values.</span></div>
<div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a59326e8a9fc2a8c068ce5fd14ac325a6">  614</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ab0c649ca250a8b9d7c6b4fcb2e94b87f">Assembler::mergeRambInitBits</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;inConfigVal, uint32_t inMemoryInitRow,</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keyword">const</span> vector&lt;uint32_t&gt; &amp;inRamBitAddress, uint32_t inBlock) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    vector&lt;uint32_t&gt; bitAddresses; <span class="comment">// vector to hold bit addresses of set memory bits</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    uint32_t configValLength = inConfigVal.length();</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    uint32_t numBitsPerConfig = configValLength &lt;&lt; 2; <span class="comment">// 4 bits every hex character</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="comment">// Go over the memory string from right to left</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">for</span>(uint32_t charIndex = 0; charIndex &lt; configValLength; charIndex++) {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="comment">//stringstream sshexChar;</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="comment">//sshexChar &lt;&lt; std::hex &lt;&lt; configVal[configValLength - charIndex - 1];</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="keywordtype">int</span> hexDigit;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        hexDigit = hexCharacterToDec(inConfigVal[configValLength - charIndex - 1]);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="comment">//sshexChar &gt;&gt; hexDigit;</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="comment">// Go over the bits of hex digit from right to left</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> bitIndex = 0; hexDigit != 0; bitIndex++) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <span class="keywordflow">if</span>(hexDigit &amp; 1) {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                <span class="comment">// Get memory address of set bit taking into account which row of memory is being processed</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                uint32_t configBitIndex = (charIndex &lt;&lt; 2) + bitIndex;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                uint32_t memoryAddress = inMemoryInitRow * numBitsPerConfig + configBitIndex;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                bitAddresses.push_back(inRamBitAddress[memoryAddress]);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            hexDigit = hexDigit &gt;&gt; 1;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        }</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    mergeWithBaseBitstream(bitAddresses, inBlock);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;}</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment">/// \details Loads micro-bitstream library from given path and populates the data</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment">/// in a map.</span></div>
<div class="line"><a name="l00646"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a54a33e67ef11077ae0bc45bc1a6c6fde">  646</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="../../d9/d12/Xdl2Bit_8cpp.html#ac2cfe73f8e07aa3203a787964f3cde07">Assembler::populateLibraryMap</a>(<a class="code" href="../../d6/d7e/namespacetorc_1_1bitstream.html#a8c1ec704109b2065aaa689653dab645a">boost::filesystem::path</a> inLibDBPath) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    std::ifstream libDB(inLibDBPath.string().c_str(), std::ios::binary);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">if</span>(!libDB.good()) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Could not open micro-bitstream DB file &quot;</span> &lt;&lt; inLibDBPath.string() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        libDB.exceptions(std::ios::failbit);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        exit(-1);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Opened micro-bitstream DB file &quot;</span> &lt;&lt; inLibDBPath.string() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordtype">char</span> buffer[1024];</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    libDB.read(buffer, 16);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    buffer[16] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordtype">string</span> libDBSanity(buffer);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Sanity string &quot;</span> &lt;&lt; libDBSanity &lt;&lt; std::endl;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">if</span>(libDBSanity != <span class="stringliteral">&quot;&lt;&lt;&lt;&lt;BITLIBDB&gt;&gt;&gt;&gt;&quot;</span>) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;This file seems to be currupt- &quot;</span> &lt;&lt; inLibDBPath.string() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        exit(-1);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    uint32_t tileTypeCount = 0;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    readWord(libDB, tileTypeCount);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Tile type count &quot;</span> &lt;&lt; tileTypeCount &lt;&lt; std::endl;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordflow">for</span>(uint32_t tileIndex = 0; tileIndex &lt; tileTypeCount; tileIndex++) {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        uint32_t tileNameCharCount = 0;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        readWord(libDB, tileNameCharCount);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        libDB.read(buffer, tileNameCharCount);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        buffer[tileNameCharCount] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keywordtype">string</span> tileType(buffer);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        uint32_t sitetypeCount = 0;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        readWord(libDB, sitetypeCount);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Tile type: &quot;</span> &lt;&lt; tileType &lt;&lt; <span class="stringliteral">&quot;. Site count: &quot;</span> &lt;&lt; sitetypeCount &lt;&lt; std::endl;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a9600412bfcfa08ff5de61fc67aabb626">SiteTypeToConfigSettings</a> sitetypeToSettingsMap;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <span class="comment">// Iterate over the elements</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="keywordflow">for</span>(uint32_t sitetypeIndex = 0; sitetypeIndex &lt; sitetypeCount; sitetypeIndex++) {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <span class="comment">// Get element name char count</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            uint32_t sitetypeCharCount = 0;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            readWord(libDB, sitetypeCharCount);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            libDB.read(buffer, sitetypeCharCount);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            buffer[sitetypeCharCount] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            <span class="keywordtype">string</span> sitetype(buffer);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            uint32_t configSettingCount = 0;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            readWord(libDB, configSettingCount);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            <span class="comment">//std::cout &lt;&lt; &quot;   Site &quot; &lt;&lt; sitetype &lt;&lt; &quot;. Config setting count &quot; &lt;&lt; configSettingCount &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            <a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#ad384c94b5bd834996b4f4149606e4eb1">ConfigSettingsToValues</a> configSettingToValues;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            <span class="comment">// Iterate over configs</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            <span class="keywordflow">for</span>(uint32_t configSettingIndex = 0; configSettingIndex &lt; configSettingCount; configSettingIndex++) {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                uint32_t configSettingCharCount = 0;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                readWord(libDB, configSettingCharCount);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                <span class="comment">//              std::cout &lt;&lt; &quot;\tConfig char count &quot; &lt;&lt; configSettingCharCount;</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                libDB.read(buffer, configSettingCharCount);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                buffer[configSettingCharCount] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                <span class="keywordtype">string</span> configSetting(buffer);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                <span class="comment">//std::cout &lt;&lt; &quot;\t&quot; &lt;&lt; configSetting &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                uint32_t configValuesCount = 0;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                readWord(libDB, configValuesCount);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                <a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a1d920be4ae5e3814f4a95d02b4654785">ConfigValuesToBits</a> configMap;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                <span class="keywordflow">for</span>(uint32_t configValueIndex = 0; configValueIndex &lt; configValuesCount; configValueIndex++) {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                    uint32_t configValueCharCount = 0;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                    readWord(libDB, configValueCharCount);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                    libDB.read(buffer, configValueCharCount);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                    buffer[configValueCharCount] = 0;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                    <span class="keywordtype">string</span> configValue(buffer);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                    <span class="comment">// Read the compressed word count</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                    uint32_t wordCount = 0;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                    readWord(libDB, wordCount);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                    std::vector&lt;uint32_t&gt; addresses;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                    uint32_t word;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                    <span class="keywordflow">for</span>(uint32_t i = 0; i &lt; wordCount; i++) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                        readWord(libDB, word);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                        addresses.push_back(word);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                    }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                    configMap[configValue] = addresses; </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                configSettingToValues[configSetting] = configMap;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            }</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            sitetypeToSettingsMap[sitetype] = configSettingToValues;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        mLibrary[tileType] = sitetypeToSettingsMap;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    }</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;}</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">/// \details Save the assembled bitstream.</span></div>
<div class="line"><a name="l00737"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a32d4e06b755d62c0000f27f928603f22">  737</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> Assembler::saveBitstream() {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    std::ofstream customBitstreamFile(mTargetBitstreamPath.string().c_str(), std::ios::binary);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Writing custom bitstream file &quot;</span> &lt;&lt; mTargetBitstreamPath &lt;&lt; std::endl;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    mBitstreamPtr-&gt;write(customBitstreamFile);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    customBitstreamFile.close();</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;}</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment">/// \details Perform bit operation on two frame set from stack for lut operation.</span></div>
<div class="line"><a name="l00747"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a98f4282a18484a30e8d6e404ba6e1752">  747</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> Assembler::binaryLutFrameOperation(<a class="code" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a552301ebb68066d26ad68e44248c8eee">Assembler::EOperation</a> inOperation) {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordtype">bool</span> debug = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">if</span>(debug) {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;In DoBinaryOperation &quot;</span> &lt;&lt; inOperation &lt;&lt; std::endl;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    std::vector&lt;uint32_t&gt; lutWords1 = mLutFrameSetStack.back();</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    std::vector&lt;uint32_t&gt; lutWordsNew;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    mLutFrameSetStack.pop_back();</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    std::vector&lt;uint32_t&gt; lutWords2;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordflow">if</span>(inOperation == eOR || inOperation == eAND || inOperation == eXOR) {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        lutWords2 = mLutFrameSetStack.back();</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        mLutFrameSetStack.pop_back();</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(inOperation == eNOT) {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        lutWords2 = mLutFrameSetForOne;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;WARNING: Unknown LUT operation &quot;</span> &lt;&lt; inOperation &lt;&lt; std::endl;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    std::vector&lt;uint32_t&gt;::const_iterator pWord1 = lutWords1.begin();</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    std::vector&lt;uint32_t&gt;::const_iterator eWord1 = lutWords1.end();</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    std::vector&lt;uint32_t&gt;::const_iterator pWord2 = lutWords2.begin();</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    std::vector&lt;uint32_t&gt;::const_iterator eWord2 = lutWords2.end();</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">if</span>(inOperation == eOR) {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <span class="keywordflow">while</span>(pWord1 != eWord1 &amp;&amp; pWord2 != eWord2) {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            lutWordsNew.push_back((*pWord1 | *pWord2));</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            pWord1++;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            pWord2++;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(inOperation == eAND) {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <span class="keywordflow">while</span>(pWord1 != eWord1) {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            lutWordsNew.push_back((*pWord1 &amp; *pWord2));</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            pWord1++;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            pWord2++;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(inOperation == eXOR || inOperation == eNOT) {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <span class="keywordflow">while</span>(pWord1 != eWord1) {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            lutWordsNew.push_back((*pWord1 ^ *pWord2));</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            pWord1++;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            pWord2++;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    }</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">if</span>(debug) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;LUT frames after the logic &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <span class="keywordflow">for</span>(std::vector&lt;uint32_t&gt;::const_iterator iter = lutWordsNew.begin(); iter</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            != lutWordsNew.end(); iter++) {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;   &quot;</span> &lt;&lt; <a class="code" href="../../df/d66/classtorc_1_1bitstream_1_1Hex32.html">Hex32</a>(*iter);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        }</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        std::cout &lt;&lt; std::endl;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    mLutFrameSetStack.push_back(lutWordsNew);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;}</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment">/// \details Push set of frames corresponding to literal passed for current lut equation.</span></div>
<div class="line"><a name="l00803"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#abe1150f7127f071867a4de6e0f39e744">  803</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> Assembler::pushLutFrame(<span class="keywordtype">string</span> inLiteral) {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keywordtype">bool</span> debug = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="keywordflow">if</span>(debug) {</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;In PushFrameToStack &quot;</span> &lt;&lt; inLiteral &lt;&lt; std::endl;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    }</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    std::vector&lt;uint32_t&gt; bitAddresses = mCurrentConfigToBitMap[mLutCurrentEquationLhs + <span class="stringliteral">&quot;=&quot;</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        + inLiteral];</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment">    /// \todo May need to find a more general to access and push passthrough frame sets</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment"></span>    <span class="comment">// We know LUT bits go across 4 frames and effect the same word in each frame</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    std::vector&lt;uint32_t&gt; lutWords(4, 0);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordflow">for</span>(std::vector&lt;uint32_t&gt;::const_iterator bitIter = bitAddresses.begin(); bitIter</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        != bitAddresses.end(); bitIter++) {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        int32_t bitIndex = (*bitIter) &amp; 0x000000FF;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        int32_t frameIndex = (*bitIter) &gt;&gt; 16;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        uint32_t frameWord = 1 &lt;&lt; (bitIndex - 1);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        lutWords[frameIndex - mLutCurrentReferenceFrameIndex] |= frameWord;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keywordflow">if</span>(debug) {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="keywordflow">for</span>(std::vector&lt;uint32_t&gt;::const_iterator iter = lutWords.begin(); iter != lutWords.end(); iter++) {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;   &quot;</span> &lt;&lt; <a class="code" href="../../df/d66/classtorc_1_1bitstream_1_1Hex32.html">Hex32</a>(*iter);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        std::cout &lt;&lt; std::endl;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    mLutFrameSetStack.push_back(lutWords);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;}</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div>
<div class="line"><a name="l00835"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#af8cc2badef442d7ff22161bb3d96a54a">  835</a></span>&#160;<span class="keywordtype">bool</span> Assembler::processLut(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; in, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; name) {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    mStreamName = name;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    istringstream iss(in);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    mSuccess = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <a class="code" href="../../d4/d5b/classtorc_1_1LutScanner.html">LutScanner</a> scanner(&amp;iss);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    scanner.<a class="code" href="../../d4/d5b/classtorc_1_1LutScanner.html#a6e314799a3bd50057a996e3f5f9f62ab">set_debug</a>(mTraceScanning);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    this-&gt;lexer = &amp;scanner;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <a class="code" href="../../db/dee/classtorc_1_1LutParser.html">LutParser</a> parser(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    parser.<a class="code" href="../../db/dee/classtorc_1_1LutParser.html#af767ec6db75d50c5e8a30b1311739418">set_debug_level</a>(mTraceParsing);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordtype">bool</span> result = parser.<a class="code" href="../../db/dee/classtorc_1_1LutParser.html#a7ede81f2c68b95efca99612d5a549bf2">parse</a>() == 0;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordflow">return</span> mSuccess &amp;&amp; result;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;}</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div>
<div class="line"><a name="l00849"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a8ac9baf1ac2d1db30f0cb4e2d50e2bd4">  849</a></span>&#160;<span class="keywordtype">void</span> Assembler::error(<span class="keyword">const</span> <a class="code" href="../../dc/d7b/classtorc_1_1location.html">location</a>&amp; l, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; m) {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    failure();</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    cerr &lt;&lt; l &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; m &lt;&lt; std::endl;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;}</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;</div>
<div class="line"><a name="l00854"></a><span class="lineno"><a class="line" href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#acf4fceeb1673d2be2b5088a3abce6a4f">  854</a></span>&#160;<span class="keywordtype">void</span> Assembler::error(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; m) {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    failure();</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    cerr &lt;&lt; m &lt;&lt; std::endl;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;}</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;} <span class="comment">// namespace bitstream</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;} <span class="comment">// namespace torc</span></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Assembler_html_a90ad68ffde201528f936bd9ff0372144"><div class="ttname"><a href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a90ad68ffde201528f936bd9ff0372144">torc::bitstream::Assembler::EMergeMode</a></div><div class="ttdeci">EMergeMode</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/Assembler_8hpp_source.html#l00053">Assembler.hpp:53</a></div></div>
<div class="ttc" id="structtorc_1_1architecture_1_1xilinx_1_1TileIndex_html"><div class="ttname"><a href="../../de/da8/structtorc_1_1architecture_1_1xilinx_1_1TileIndex.html">torc::architecture::xilinx::TileIndex</a></div><div class="ttdoc">Encapsulation of a tile index in an unsigned 32-bit integer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1b/XilinxDatabaseTypes_8hpp_source.html#l00068">XilinxDatabaseTypes.hpp:68</a></div></div>
<div class="ttc" id="classtorc_1_1LutParser_html_a7ede81f2c68b95efca99612d5a549bf2"><div class="ttname"><a href="../../db/dee/classtorc_1_1LutParser.html#a7ede81f2c68b95efca99612d5a549bf2">torc::LutParser::parse</a></div><div class="ttdeci">virtual int parse()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d7c/LutParser_8cpp_source.html#l00242">LutParser.cpp:242</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_ad6304506c423b4c5c3285017109d4701"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#ad6304506c423b4c5c3285017109d4701">assembleInstances</a></div><div class="ttdeci">void assembleInstances(DesignSharedPtr inDesignPtr, Bitstream &amp;outBitstream, const Sites &amp;sites, const Tiles &amp;tiles, TiletypeElementMap &amp;library)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00247">Xdl2Bit.cpp:247</a></div></div>
<div class="ttc" id="classtorc_1_1location_html"><div class="ttname"><a href="../../dc/d7b/classtorc_1_1location.html">torc::location</a></div><div class="ttdoc">Abstract a location. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d10/bitstream_2assembler_2lut_2location_8hh_source.html#l00051">bitstream/assembler/lut/location.hh:51</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Assembler_html_a75b63082e9ee7d0177b39a552c914325"><div class="ttname"><a href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a75b63082e9ee7d0177b39a552c914325">torc::bitstream::Assembler::DesignSharedPtr</a></div><div class="ttdeci">torc::physical::DesignSharedPtr DesignSharedPtr</div><div class="ttdoc">Imported type name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/Assembler_8hpp_source.html#l00061">Assembler.hpp:61</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Assembler_html_ad384c94b5bd834996b4f4149606e4eb1"><div class="ttname"><a href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#ad384c94b5bd834996b4f4149606e4eb1">torc::bitstream::Assembler::ConfigSettingsToValues</a></div><div class="ttdeci">std::map&lt; const string, ConfigValuesToBits &gt; ConfigSettingsToValues</div><div class="ttdoc">Map from config setting to config values. ConfigSettingsToValues. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/Assembler_8hpp_source.html#l00075">Assembler.hpp:75</a></div></div>
<div class="ttc" id="DirectoryTree_8hpp_html"><div class="ttname"><a href="../../dd/db7/DirectoryTree_8hpp.html">DirectoryTree.hpp</a></div><div class="ttdoc">Header for the DirectoryTree class. </div></div>
<div class="ttc" id="classtorc_1_1physical_1_1Net_html_a95954f476447102e19f7f50f92a3d780"><div class="ttname"><a href="../../d4/d20/classtorc_1_1physical_1_1Net.html#a95954f476447102e19f7f50f92a3d780">torc::physical::Net::PipConstIterator</a></div><div class="ttdeci">PipVector::const_iterator PipConstIterator</div><div class="ttdoc">Constant iterator to Pip objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d67/physical_2Net_8hpp_source.html#l00073">physical/Net.hpp:73</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Hex32_html"><div class="ttname"><a href="../../df/d66/classtorc_1_1bitstream_1_1Hex32.html">torc::bitstream::Hex32</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d64/bitstream_2OutputStreamHelpers_8hpp_source.html#l00069">bitstream/OutputStreamHelpers.hpp:69</a></div></div>
<div class="ttc" id="Bitstream_8hpp_html"><div class="ttname"><a href="../../dc/d77/Bitstream_8hpp.html">Bitstream.hpp</a></div><div class="ttdoc">Main torc::bitstream namespace header. </div></div>
<div class="ttc" id="classtorc_1_1LutParser_html"><div class="ttname"><a href="../../db/dee/classtorc_1_1LutParser.html">torc::LutParser</a></div><div class="ttdoc">A Bison parser. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d16/LutParser_8hpp_source.html#l00144">LutParser.hpp:144</a></div></div>
<div class="ttc" id="AssemblerFactory_8hpp_html"><div class="ttname"><a href="../../d3/d71/AssemblerFactory_8hpp.html">AssemblerFactory.hpp</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a73b44d26286730d2c741a0c4cbdeb303"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a73b44d26286730d2c741a0c4cbdeb303">assembleNets</a></div><div class="ttdeci">void assembleNets(DesignSharedPtr inDesignPtr, Bitstream &amp;outBitstream, const Sites &amp;sites, const Tiles &amp;tiles, TiletypeElementMap &amp;library)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00418">Xdl2Bit.cpp:418</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_af5394c153db17bbec6ee4ca45ec276ea"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#af5394c153db17bbec6ee4ca45ec276ea">convertXdlToBitstream</a></div><div class="ttdeci">void convertXdlToBitstream(DesignSharedPtr inDesignPtr, Bitstream &amp;outBitstream, const Sites &amp;sites, const Tiles &amp;tiles, TiletypeElementMap &amp;library)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00230">Xdl2Bit.cpp:230</a></div></div>
<div class="ttc" id="LutScanner_8hpp_html"><div class="ttname"><a href="../../d8/dc9/LutScanner_8hpp.html">LutScanner.hpp</a></div><div class="ttdoc">Header for the LutScanner class. </div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a5f7c2023bd81037f141ea023410c130b"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a5f7c2023bd81037f141ea023410c130b">isMemoryParityInitSetting</a></div><div class="ttdeci">bool isMemoryParityInitSetting(const std::string &amp;configName)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00112">Xdl2Bit.cpp:112</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_ab0c649ca250a8b9d7c6b4fcb2e94b87f"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#ab0c649ca250a8b9d7c6b4fcb2e94b87f">mergeRambInitBits</a></div><div class="ttdeci">void mergeRambInitBits(const std::string &amp;configVal, uint32_t memoryInitRow, Bitstream &amp;outBitstream, VirtexFrameBlocks &amp;frameBlocks, uint32_t wordOffset, const vector&lt; uint32_t &gt; &amp;bitAddresses, uint32_t block)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00753">Xdl2Bit.cpp:753</a></div></div>
<div class="ttc" id="Assembler_8hpp_html"><div class="ttname"><a href="../../d8/d00/Assembler_8hpp.html">Assembler.hpp</a></div><div class="ttdoc">Base class for Xdl to bitstream conversion. This class is abstract but still contains lot of architec...</div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a8408e741933a976c5cf1c1142e2267a4"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a8408e741933a976c5cf1c1142e2267a4">mergeCompoundSettingBits</a></div><div class="ttdeci">void mergeCompoundSettingBits(std::string element1Name, std::string config1Val, InstanceSharedPtr instancePtr, const ElementConfigMap &amp;elementMap, VirtexFrameBlocks &amp;frameBlocks, uint32_t wordOffset, Bitstream &amp;outBitstream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00686">Xdl2Bit.cpp:686</a></div></div>
<div class="ttc" id="namespacetorc_1_1bitstream_html_a904e1ef41f9863a1a12b0dc842115714"><div class="ttname"><a href="../../d6/d7e/namespacetorc_1_1bitstream.html#a904e1ef41f9863a1a12b0dc842115714">torc::bitstream::string</a></div><div class="ttdeci">std::string string</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/LibGenFactory_8hpp_source.html#l00035">LibGenFactory.hpp:35</a></div></div>
<div class="ttc" id="classtorc_1_1physical_1_1ConfigMap_html_ad587f0db6f734f07dfeadbf1e61ea686"><div class="ttname"><a href="../../dc/d33/classtorc_1_1physical_1_1ConfigMap.html#ad587f0db6f734f07dfeadbf1e61ea686">torc::physical::ConfigMap::const_iterator</a></div><div class="ttdeci">const_iterator const_iterator</div><div class="ttdoc">Constant iterator to {setting,Config} pairs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d8e/ConfigMap_8hpp_source.html#l00052">ConfigMap.hpp:52</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Assembler_html_a552301ebb68066d26ad68e44248c8eee"><div class="ttname"><a href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a552301ebb68066d26ad68e44248c8eee">torc::bitstream::Assembler::EOperation</a></div><div class="ttdeci">EOperation</div><div class="ttdoc">Permissible operations on LUT frames. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/Assembler_8hpp_source.html#l00051">Assembler.hpp:51</a></div></div>
<div class="ttc" id="classtorc_1_1physical_1_1Pip_html_af247ed28068b79e74ab30caed5e93464"><div class="ttname"><a href="../../d9/d40/classtorc_1_1physical_1_1Pip.html#af247ed28068b79e74ab30caed5e93464">torc::physical::Pip::getSinkWireName</a></div><div class="ttdeci">const WireName &amp; getSinkWireName(void) const </div><div class="ttdoc">Returns the pip sink wire. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd6/Pip_8hpp_source.html#l00077">Pip.hpp:77</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a2fb65c6139c9c19441fe873b237ff916"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a2fb65c6139c9c19441fe873b237ff916">isMemoryInitSetting</a></div><div class="ttdeci">bool isMemoryInitSetting(const std::string &amp;configName)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00108">Xdl2Bit.cpp:108</a></div></div>
<div class="ttc" id="classtorc_1_1LutScanner_html"><div class="ttname"><a href="../../d4/d5b/classtorc_1_1LutScanner.html">torc::LutScanner</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dc9/LutScanner_8hpp_source.html#l00045">LutScanner.hpp:45</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1Site_html"><div class="ttname"><a href="../../da/dd8/classtorc_1_1architecture_1_1Site.html">torc::architecture::Site</a></div><div class="ttdoc">Encapsulation of a device logic site. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd0/Site_8hpp_source.html#l00030">Site.hpp:30</a></div></div>
<div class="ttc" id="Physical_8hpp_html"><div class="ttname"><a href="../../d5/d71/Physical_8hpp.html">Physical.hpp</a></div><div class="ttdoc">Main torc::physical namespace header. </div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Assembler_html_aef9535aefef89dbcb9ef68fa450ba035"><div class="ttname"><a href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#aef9535aefef89dbcb9ef68fa450ba035">torc::bitstream::Assembler::path</a></div><div class="ttdeci">boost::filesystem::path path</div><div class="ttdoc">Imported type name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/Assembler_8hpp_source.html#l00067">Assembler.hpp:67</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Assembler_html_a7a2c58e551e2725696c6a834d5da5a46"><div class="ttname"><a href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a7a2c58e551e2725696c6a834d5da5a46">torc::bitstream::Assembler::InstanceSharedPtr</a></div><div class="ttdeci">torc::physical::InstanceSharedPtr InstanceSharedPtr</div><div class="ttdoc">Imported type name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/Assembler_8hpp_source.html#l00063">Assembler.hpp:63</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1TileInfo_html"><div class="ttname"><a href="../../d0/d83/classtorc_1_1architecture_1_1TileInfo.html">torc::architecture::TileInfo</a></div><div class="ttdoc">Encapsulation of a tile within a device tile map. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0b/TileInfo_8hpp_source.html#l00033">TileInfo.hpp:33</a></div></div>
<div class="ttc" id="namespacetorc_1_1physical_html_a5ae9fcfb9cf8228f052b7412796418f6"><div class="ttname"><a href="../../de/d76/namespacetorc_1_1physical.html#a5ae9fcfb9cf8228f052b7412796418f6">torc::physical::NetSharedPtr</a></div><div class="ttdeci">boost::shared_ptr&lt; Net &gt; NetSharedPtr</div><div class="ttdoc">Shared pointer encapsulation of a Net. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d67/physical_2Net_8hpp_source.html#l00229">physical/Net.hpp:229</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1Site_html_aa6161f227602b45ee6775d161c94ad2d"><div class="ttname"><a href="../../da/dd8/classtorc_1_1architecture_1_1Site.html#aa6161f227602b45ee6775d161c94ad2d">torc::architecture::Site::getTileIndex</a></div><div class="ttdeci">TileIndex getTileIndex(void) const </div><div class="ttdoc">Returns the index of the containing tile. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd0/Site_8hpp_source.html#l00083">Site.hpp:83</a></div></div>
<div class="ttc" id="namespacetorc_1_1bitstream_html_a8c1ec704109b2065aaa689653dab645a"><div class="ttname"><a href="../../d6/d7e/namespacetorc_1_1bitstream.html#a8c1ec704109b2065aaa689653dab645a">torc::bitstream::path</a></div><div class="ttdeci">boost::filesystem::path path</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/LibGenFactory_8hpp_source.html#l00036">LibGenFactory.hpp:36</a></div></div>
<div class="ttc" id="classtorc_1_1architecture_1_1TileInfo_html_a3929d1b6b85ec182fccfc88eef0203b7"><div class="ttname"><a href="../../d0/d83/classtorc_1_1architecture_1_1TileInfo.html#a3929d1b6b85ec182fccfc88eef0203b7">torc::architecture::TileInfo::getTypeIndex</a></div><div class="ttdeci">const TileTypeIndex &amp; getTypeIndex(void) const </div><div class="ttdoc">Returns the tile type index for this tile. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0b/TileInfo_8hpp_source.html#l00092">TileInfo.hpp:92</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a9cb00f66f3601e31c679c36a3011f923"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a9cb00f66f3601e31c679c36a3011f923">mergeLutRamOrRomBits</a></div><div class="ttdeci">void mergeLutRamOrRomBits(const std::string &amp;elementName, const std::string &amp;configVal, Bitstream &amp;outBitstream, VirtexFrameBlocks &amp;frameBlocks, uint32_t wordOffset, TiletypeElementMap &amp;library)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00628">Xdl2Bit.cpp:628</a></div></div>
<div class="ttc" id="classtorc_1_1physical_1_1Pip_html_a6ff301e25c78644fdc6d51da28a41f18"><div class="ttname"><a href="../../d9/d40/classtorc_1_1physical_1_1Pip.html#a6ff301e25c78644fdc6d51da28a41f18">torc::physical::Pip::getTileName</a></div><div class="ttdeci">const TileName &amp; getTileName(void) const </div><div class="ttdoc">Returns the pip tile. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd6/Pip_8hpp_source.html#l00073">Pip.hpp:73</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Factory_html_a773c2c2d9504d6e196f071d8dbebac47"><div class="ttname"><a href="../../df/de0/classtorc_1_1bitstream_1_1Factory.html#a773c2c2d9504d6e196f071d8dbebac47">torc::bitstream::Factory::newBitstreamPtr</a></div><div class="ttdeci">static BitstreamSharedPtr newBitstreamPtr(const boost::filesystem::path &amp;inPath)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d72/bitstream_2Factory_8hpp_source.html#l00037">bitstream/Factory.hpp:37</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a9bf6e309c72cf92c5a12a988e6d3c56d"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a9bf6e309c72cf92c5a12a988e6d3c56d">isLutRamOrRomSetting</a></div><div class="ttdeci">bool isLutRamOrRomSetting(const std::string &amp;configVal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00104">Xdl2Bit.cpp:104</a></div></div>
<div class="ttc" id="classtorc_1_1physical_1_1Pip_html"><div class="ttname"><a href="../../d9/d40/classtorc_1_1physical_1_1Pip.html">torc::physical::Pip</a></div><div class="ttdoc">Physical design programmable interconnect point. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd6/Pip_8hpp_source.html#l00034">Pip.hpp:34</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Assembler_html_a9600412bfcfa08ff5de61fc67aabb626"><div class="ttname"><a href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a9600412bfcfa08ff5de61fc67aabb626">torc::bitstream::Assembler::SiteTypeToConfigSettings</a></div><div class="ttdeci">std::map&lt; const string, ConfigSettingsToValues &gt; SiteTypeToConfigSettings</div><div class="ttdoc">Map from site type to config settings. SiteTypeToConfigSettings. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/Assembler_8hpp_source.html#l00077">Assembler.hpp:77</a></div></div>
<div class="ttc" id="classtorc_1_1physical_1_1Pip_html_a7a3f546bb994b1fb83b70af9db209b49"><div class="ttname"><a href="../../d9/d40/classtorc_1_1physical_1_1Pip.html#a7a3f546bb994b1fb83b70af9db209b49">torc::physical::Pip::getSourceWireName</a></div><div class="ttdeci">const WireName &amp; getSourceWireName(void) const </div><div class="ttdoc">Returns the pip source wire. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd6/Pip_8hpp_source.html#l00075">Pip.hpp:75</a></div></div>
<div class="ttc" id="structtorc_1_1architecture_1_1xilinx_1_1SiteIndex_html"><div class="ttname"><a href="../../db/dd9/structtorc_1_1architecture_1_1xilinx_1_1SiteIndex.html">torc::architecture::xilinx::SiteIndex</a></div><div class="ttdoc">Encapsulation of a site index in an unsigned 32-bit integer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1b/XilinxDatabaseTypes_8hpp_source.html#l00160">XilinxDatabaseTypes.hpp:160</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a545092a4b96c8e383b26db705f16a133"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a545092a4b96c8e383b26db705f16a133">isSiteTypeSupported</a></div><div class="ttdeci">bool isSiteTypeSupported(const std::string &amp;siteType)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00875">Xdl2Bit.cpp:875</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a026bfc43702b6b80c8b19a1d05353a04"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a026bfc43702b6b80c8b19a1d05353a04">isRambSite</a></div><div class="ttdeci">bool isRambSite(const std::string &amp;siteType)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00881">Xdl2Bit.cpp:881</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_aa9d765ccfdb90052eb82cbcf64c91f8e"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#aa9d765ccfdb90052eb82cbcf64c91f8e">isLutEquationSetting</a></div><div class="ttdeci">bool isLutEquationSetting(const std::string &amp;configValue)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00100">Xdl2Bit.cpp:100</a></div></div>
<div class="ttc" id="DDB_8hpp_html"><div class="ttname"><a href="../../d1/d5d/DDB_8hpp.html">DDB.hpp</a></div><div class="ttdoc">Header for the DDB class. </div></div>
<div class="ttc" id="classtorc_1_1LutScanner_html_a6e314799a3bd50057a996e3f5f9f62ab"><div class="ttname"><a href="../../d4/d5b/classtorc_1_1LutScanner.html#a6e314799a3bd50057a996e3f5f9f62ab">torc::LutScanner::set_debug</a></div><div class="ttdeci">void set_debug(bool b)</div><div class="ttdoc">Enables or disables debugging output. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dbe/LutScanner_8cpp_source.html#l01656">LutScanner.cpp:1656</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_a27c41d0999d3ddd7e5b963f098c4d526"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#a27c41d0999d3ddd7e5b963f098c4d526">elementAndConfigExistInLibrary</a></div><div class="ttdeci">bool elementAndConfigExistInLibrary(const std::string &amp;elementName, const std::string &amp;configValue, ElementConfigMap &amp;elementMap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00121">Xdl2Bit.cpp:121</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_ac2cfe73f8e07aa3203a787964f3cde07"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#ac2cfe73f8e07aa3203a787964f3cde07">populateLibraryMap</a></div><div class="ttdeci">static TiletypeElementMap populateLibraryMap(boost::filesystem::path libDBPath)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00888">Xdl2Bit.cpp:888</a></div></div>
<div class="ttc" id="classtorc_1_1LutParser_html_af767ec6db75d50c5e8a30b1311739418"><div class="ttname"><a href="../../db/dee/classtorc_1_1LutParser.html#af767ec6db75d50c5e8a30b1311739418">torc::LutParser::set_debug_level</a></div><div class="ttdeci">void set_debug_level(debug_level_type l)</div><div class="ttdoc">Set the current debugging level. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d7c/LutParser_8cpp_source.html#l00235">LutParser.cpp:235</a></div></div>
<div class="ttc" id="classtorc_1_1common_1_1DirectoryTree_html_af1b18fb3aa350b4522babca30a9034b8"><div class="ttname"><a href="../../d4/da0/classtorc_1_1common_1_1DirectoryTree.html#af1b18fb3aa350b4522babca30a9034b8">torc::common::DirectoryTree::getExecutablePath</a></div><div class="ttdeci">static const boost::filesystem::path &amp; getExecutablePath(void)</div><div class="ttdoc">Returns the absolute path to the executable directory. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db7/DirectoryTree_8hpp_source.html#l00058">DirectoryTree.hpp:58</a></div></div>
<div class="ttc" id="Xdl2Bit_8cpp_html_ad0ffc71dd4cddb16e5dd668937663cff"><div class="ttname"><a href="../../d9/d12/Xdl2Bit_8cpp.html#ad0ffc71dd4cddb16e5dd668937663cff">checkValidityAndMergeBitstream</a></div><div class="ttdeci">void checkValidityAndMergeBitstream(std::string elementName, std::string configVal, const ElementConfigMap &amp;elementMap, VirtexFrameBlocks &amp;frameBlocks, uint32_t wordOffset, Bitstream &amp;outBitstream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d12/Xdl2Bit_8cpp_source.html#l00495">Xdl2Bit.cpp:495</a></div></div>
<div class="ttc" id="classtorc_1_1bitstream_1_1Assembler_html_a1d920be4ae5e3814f4a95d02b4654785"><div class="ttname"><a href="../../d6/dd4/classtorc_1_1bitstream_1_1Assembler.html#a1d920be4ae5e3814f4a95d02b4654785">torc::bitstream::Assembler::ConfigValuesToBits</a></div><div class="ttdeci">std::map&lt; const string, std::vector&lt; uint32_t &gt; &gt; ConfigValuesToBits</div><div class="ttdoc">Map from config value to vector of config bits. ConfigValuesToBits. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/Assembler_8hpp_source.html#l00073">Assembler.hpp:73</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_089570cc46ace66386d462f8f121a96b.html">src</a></li><li class="navelem"><a class="el" href="../../dir_ab14cdab922db05e19adc973fc5c97b9.html">torc</a></li><li class="navelem"><a class="el" href="../../dir_df912ebbcea978572783ba7ba43bacc6.html">bitstream</a></li><li class="navelem"><a class="el" href="../../dir_18626e1adf203c69ab740903c38ad968.html">assembler</a></li><li class="navelem"><a class="el" href="../../d4/d03/Assembler_8cpp.html">Assembler.cpp</a></li>
    <li class="footer">Generated on Thu Dec 18 2014 16:25:04 for abc-master by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
